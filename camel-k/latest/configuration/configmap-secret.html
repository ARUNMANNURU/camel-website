<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Configuration via ConfigMap or Secret :: Apache Camel</title><link rel="canonical" href="https://camel.apache.org/staging/camel-k/latest/configuration/configmap-secret.html"><meta name="generator" content="Antora 2.0.0"><link rel="stylesheet" href="../../../_/css/site.css"></head><body class="article"><header class="header"><nav class="navbar shadow border-bottom"><div class="navbar-brand"><a class="navbar-item nav-logo" href="../../.." title="Apache Camel"></a><button class="navbar-burger" data-target="topbar-nav"><span></span><span></span><span></span></button></div><div id="topbar-nav" class="navbar-menu"><div class="navbar-end"><a class="navbar-item" href="../../../">Home</a><a class="navbar-item" href="../../../news/">News</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Projects</a><div class="navbar-dropdown"><a class="navbar-item" href="../../../projects/camel-k/">Camel K</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Documentation</a><div class="navbar-dropdown"><a class="navbar-item" href="../../../docs/getting-started/">Getting started</a><a class="navbar-item" href="../../../manual/latest/">User manual</a><a class="navbar-item" href="../../../components/latest/">Component reference</a><a class="navbar-item" href="../../../camel-k/latest/">Camel K</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Community</a><div class="navbar-dropdown"><a class="navbar-item" href="../../../community/support/">Support</a><a class="navbar-item" href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a><a class="navbar-item" href="../../../community/user-stories/">User stories</a><a class="navbar-item" href="../../../community/articles/">Articles</a><a class="navbar-item" href="../../../community/books/">Books</a><a class="navbar-item" href="../../../community/team/">Team</a><a class="navbar-item" href="../../../community/camel-extra/">Camel extra</a></div></div><a class="navbar-item" href="../../../download/">Download</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">About</a><div class="navbar-dropdown"><a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a><a class="navbar-item" href="https://www.apache.org/licenses/">License</a><a class="navbar-item" href="../../../security/">Security</a><a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a><a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a></div></div></div></div></nav></header><div class="main-wrapper"><div class="navigation-container" data-component="camel-k" data-version="latest"><aside class="navigation"><div class="panels"><div class="navigation-menu is-active" data-panel="menu"><nav class="nav-menu"><h3 class="title"><a href="../index.html">Apache Camel K</a></h3><ul class="nav-list"><li class="nav-item" data-depth="0"><ul class="nav-list"><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="../installation/installation.html">Installation</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="../installation/minikube.html">Minikube</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="../installation/minishift.html">Minishift</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="../installation/gke.html">Google Kubernetes Engine (GKE)</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="../installation/openshift.html">OpenShift</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="../running/running.html">Running</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="../running/dev-mode.html">Dev Mode</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="configuration.html">Configuration</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="components.html">Components</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="logging.html">Logging</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="dependencies.html">Dependencies</a></li><li class="nav-item is-current-page" data-depth="2"><a class="nav-link" href="configmap-secret.html">ConfigMap/Secret</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="../languages/languages.html">Languages</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="../languages/groovy.html">Groovy</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="../languages/kotlin.html">Kotlin</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="../languages/javascript.html">JavaScript</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="../languages/java.html">Java</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="../languages/xml.html">XML</a></li></ul></li><li class="nav-item" data-depth="1"><a class="nav-link" href="../traits.html">Traits</a></li><li class="nav-item" data-depth="1"><a class="nav-link" href="../uninstalling.html">Uninstalling</a></li></ul></li></ul></nav></div><div class="navigation-explore" data-panel="explore"><div class="context"><span class="title">Apache Camel K</span><span class="version">latest</span></div><ul class="components"><li class="component is-current"><span class="title">Apache Camel K</span><ul class="versions"><li class="version is-current is-latest"><a href="../index.html">latest</a></li></ul></li><li class="component"><span class="title">Component reference</span><ul class="versions"><li class="version is-latest"><a href="../../../components/latest/index.html">latest</a></li></ul></li><li class="component"><span class="title">User manual</span><ul class="versions"><li class="version is-latest"><a href="../../../manual/latest/index.html">latest</a></li></ul></li></ul></div></div></aside></div><main class="main"><div class="toolbar" role="navigation"><button class="navigation-toggle"></button><a href="../../../manual/latest/index.html" class="home-link"></a><nav class="crumbs" aria-label="breadcrumbs"><ul><li class="crumb"><a href="../index.html">Apache Camel K</a></li><li class="crumb"><a href="configuration.html">Configuration</a></li><li class="crumb"><a href="configmap-secret.html">ConfigMap/Secret</a></li></ul></nav><div class="edit-this-page"><a href="https://github.com/apache/camel-k/edit/antora/docs/modules/ROOT/pages/configuration/configmap-secret.adoc">Edit this Page</a></div></div><article class="doc"><h1>Configuration via ConfigMap or Secret</h1><div id="preamble"><div class="sectionbody"><div class="paragraph"><p>Camel K allows to define property values using Kubernetes ConfigMap or Secrets.</p></div><div class="paragraph"><p>For the sake of simplicity, consider the following integration:</p></div><div class="listingblock"><div class="title">props.groovy</div><div class="content"><pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">from('timer:props?period=1s')
    .log('{{my.message}}')</code></pre></div></div><div class="paragraph"><p>In addition to<a href="configuration.html" class="page">command line property configuration</a>, Camel K provides the following options.</p></div></div></div><div class="sect1"><h2 id="_configuration_via_configmap"><a class="anchor" href="#_configuration_via_configmap"></a>Configuration via ConfigMap</h2><div class="sectionbody"><div class="paragraph"><p>You can create a<em>ConfigMap</em>containing your configuration properties and link it to a Camel K integration.</p></div><div class="paragraph"><p>For example, you can define the following<em>ConfigMap</em>:</p></div><div class="listingblock"><div class="title">my-config.yaml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: my-config
data:
  application.properties: |
    my.message=Hello World
    logging.level.org.apache.camel=DEBUG</code></pre></div></div><div class="paragraph"><p>In the<em>ConfigMap</em>above we&#8217;ve set both the value of the<code>my.message</code>property and also the<a href="logging.html" class="page">logging level</a>for the<code>org.apache.camel</code>package.</p></div><div class="paragraph"><p>You need to create the<em>ConfigMap</em>first (in the same Kubernetes namespace):</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code>kubectl apply -f my-config.yaml</code></pre></div></div><div class="paragraph"><p>You can now run the integration with the following command to reference the<em>ConfigMap</em>:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code>kamel run --configmap=my-config props.groovy</code></pre></div></div></div></div><div class="sect1"><h2 id="_configuration_via_secret"><a class="anchor" href="#_configuration_via_secret"></a>Configuration via Secret</h2><div class="sectionbody"><div class="paragraph"><p>Configuration via<em>Secrets</em>is similar to the configuration via<em>ConfigMap</em>. The difference is that you may need to<code>base64</code>encode the content of the<code>application.properties</code>file inside the secret.</p></div><div class="paragraph"><p>For example, the following<em>Secret</em>is equivalent to the previous<em>ConfigMap</em>:</p></div><div class="listingblock"><div class="title">my-secret.yaml</div><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: Secret
metadata:
  name: my-secret
data:
  application.properties: |
    bXkubWVzc2FnZT1IZWxsbyBXb3JsZAogICAgbG9nZ2luZy5sZXZlbC5vcmcuYXBhY2hlLmNhbWVs
    PURFQlVHCg==</code></pre></div></div><div class="paragraph"><p>You need to create the<em>Secret</em>first (in the same Kubernetes namespace):</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code>kubectl apply -f my-secret.yaml</code></pre></div></div><div class="paragraph"><p>You can now run the integration with the following command to reference the<em>Secret</em>:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code>kamel run --secret=my-secret props.groovy</code></pre></div></div></div></div></article></main></div><footer class="footer"><p>This page was built using the Antora default UI.</p><p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p></footer><script src="../../../_/js/site.js"></script><script src="../../../_/js/vendor/highlight.js"></script></body></html>