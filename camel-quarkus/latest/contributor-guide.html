<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Contributor guide - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/camel-quarkus/latest/contributor-guide.html"> <meta name="generator" content="Antora 2.1.0"> <link rel="stylesheet" href="../../_/css/site-5e843814ab.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."><span>Apache Camel</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item" href="../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Projects</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../projects/camel-k/">Camel K</a> <a class="navbar-item" href="../../projects/camel-quarkus/">Camel Quarkus</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../docs/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../components/latest/">Component reference</a> <a class="navbar-item" href="../../camel-k/latest/">Camel K</a> <a class="navbar-item" href="../../camel-quarkus/latest/">Camel Quarkus</a> <a class="navbar-item" href="../../manual/latest/enterprise-integration-patterns.html">Enterprise Integration Patterns</a> <a class="navbar-item" href="../../manual/latest/camel-3-migration-guide.html">Camel 3 Migration Guide</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> <a class="navbar-item" href="../../community/camel-extra/">Camel extra</a> </div> </div> <a class="navbar-item" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-tools"> <a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <div class="nav-container" data-component="camel-quarkus" data-version="latest"> <aside class="nav"> <div class="panels"> <div class="nav-panel-menu is-active" data-panel="menu"> <nav class="nav-menu"> <h3 class="title"><a href="index.html">Apache Camel extensions for Quarkus</a></h3> <ul class="nav-list"> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <a class="nav-link" href="user-guide.html">User guide</a> </li> <li class="nav-item is-current-page" data-depth="1"> <a class="nav-link" href="contributor-guide.html">Contributor guide</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="list-of-camel-quarkus-extensions.html">List of Camel Quarkus extensions</a> </li> </ul> </li> </ul> </nav> </div> <div class="nav-panel-explore" data-panel="explore"> <div class="context"> <span class="title">Apache Camel extensions for Quarkus</span> <span class="version">latest</span> </div> <ul class="components"> <li class="component is-current"> <span class="title">Apache Camel extensions for Quarkus</span> <ul class="versions"> <li class="version is-current is-latest"> <a href="index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel K</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Component reference</span> <ul class="versions"> <li class="version is-latest"> <a href="../../components/latest/index.html">latest</a> </li> <li class="version"> <a href="../../components/2.x/index.html">2.x</a> </li> </ul> </li> <li class="component"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-latest"> <a href="../../manual/latest/index.html">latest</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main role="main"> <div class="toolbar" role="navigation"> <button class="nav-toggle"></button> <a href="../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">Apache Camel extensions for Quarkus</a></li> <li><a href="contributor-guide.html">Contributor guide</a></li> </ul> </nav> <div class="edit-this-page"><a href="https://github.com/apache/camel-quarkus/edit/master/docs/modules/ROOT/pages/contributor-guide.adoc">Edit this Page</a></div> </div> <article class="doc"> <h1 class="page">Contributor guide</h1> <div class="sect1"> <h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2> <div class="sectionbody"> <div class="ulist"> <ul> <li> <p><code>git</code></p> </li> <li> <p><code>docker</code> for the native mode, see <a href="https://quarkus.io/guides/building-native-image-guide">Building a native executable</a> section of the Quarkus documentation.</p> </li> <li> <p>Java 8</p> </li> <li> <p>Maven 3.5.3+ (unless you use the Maven Wrapper, a.k.a. <code>mvnw</code> available in the source tree).</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="how-to-build"><a class="anchor" href="#how-to-build"></a>How to build</h2> <div class="sectionbody"> <div class="paragraph"> <p>Checkout the code</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">git clone https://github.com/apache/camel-quarkus.git
cd camel-quarkus</code></pre> </div> </div> <div class="paragraph"> <p>A fast build without tests:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn clean install -DskipTests</code></pre> </div> </div> <div class="paragraph"> <p>A build with integration tests in the JVM mode only:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn clean install</code></pre> </div> </div> <div class="paragraph"> <p>A build with integration tests in both the JVM mode and the native mode:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn clean install -Dnative</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_create_a_new_extension"><a class="anchor" href="#_create_a_new_extension"></a>Create a new extension</h2> <div class="sectionbody"> <div class="olist arabic"> <ol class="arabic"> <li> <p>You should know <a href="#how-to-build">how to build</a>.</p> </li> <li> <p>Go through the <a href="https://quarkus.io/guides/extension-authors-guide">Quarkus extension author&#8217;s guide</a> to get an idea what is expecting you.</p> </li> <li> <p>Make sure that nobody else works on the same extension already by searching through the <a href="https://github.com/apache/camel-quarkus/issues">GitHub issues</a>.</p> </li> <li> <p>Let others know that you work on the given extension by either creating a <a href="https://github.com/apache/camel-quarkus/issues/new">new issue</a> or asking to assign an existing one to you.</p> </li> <li> <p>Scaffold the necessary Maven modules using <code>quarkus-maven-plugin</code>. As an example let&#8217;s add a new extension for supporting an imaginary Camel component <code>foo</code>:</p> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">cd camel-quarkus
cd extensions
mvn quarkus:create-extension groovy:execute@scaffold-integration-test -N \
    -Dquarkus.artifactIdBase=foo \
    -Dquarkus.nameBase="Foo"</code></pre> </div> </div> <div class="paragraph"> <p>where:</p> </div> <div class="ulist"> <ul> <li> <p><code>foo</code> is the unique part of the new extension&#8217;s <code>artifactId</code> without the <code>camel-quarkus-</code> prefix</p> </li> <li> <p><code>Foo</code> is the unique part of the artifact name without the `Camel Quarkus :: ` prefix</p> <div class="paragraph"> <p>The <code>artifactId</code> and artifact <code>name</code> prefixes and suffixes are added automatically by the plugin.</p> </div> <div class="paragraph"> <p>The above sequence of commands does the following:</p> </div> </li> <li> <p>It creates three new Maven modules under the <code>extensions</code> directory: <code>camel-quarkus-foo-parent</code>, <code>camel-quarkus-foo</code> (a.k.a. the runtime module) and <code>camel-quarkus-foo-deployment</code>.</p> </li> <li> <p>These three modules are linked where necessary:</p> <div class="ulist"> <ul> <li> <p><code>camel-quarkus-foo-parent</code> is added to the <code>&lt;modules&gt;</code> of <code>camel-quarkus-extensions</code></p> </li> <li> <p><code>camel-quarkus-foo</code> is added to the <code>&lt;dependencyManagement&gt;</code> of the runtime BOM (Bill of Materials) <code>poms/bom/pom.xml</code></p> </li> <li> <p><code>camel-quarkus-foo-deployment</code> is added to the <code>&lt;dependencyManagement&gt;</code> of the deployment BOM (Bill of Materials) <code>poms/bom-deployment/pom.xml</code></p> </li> </ul> </div> </li> <li> <p>It creates a basic <code>FooProcessor</code> class in the deployment module.</p> </li> <li> <p>It also creates a stub of an integration test module under <code>integration-tests/foo</code>.</p> <div class="paragraph"> <p>A compilation performed immediately after generating the modules should pass flawlessly but running the tests will fail because the test project needs to get finished.</p> </div> <div class="admonitionblock tip"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td> <td class="content"> The <code>nameBase</code> parameter of the mojo is optional. If you do not specify it on the command line, the plugin will derive it from <code>artifactIdBase</code> by replacing dashes with spaces and uppercasing each token. So you may consider omitting explicit <code>nameBase</code> in some cases. </td> </tr> </table></div> </div> </li> </ul> </div> </li> <li> <p>Complete the extension by adding dependencies to the runtime module. You probably want to add a dependency on on the given Camel component - in our case <code>org.apache.camel:camel-foo</code>.</p> </li> <li> <p>Complete the integration test module under <code>integration-tests/foo</code>. Make sure you test both the consumer and the producer of the component (if the component supports both). Make sure the tests are passing both in the JVM mode (<code>mvn test</code>) and in the native mode (<code>mvn verify -Dnative</code>).</p> </li> <li> <p>In case of problems, consult the <a href="https://quarkus.io/guides/extension-authors-guide">Quarkus extension author&#8217;s guide</a>, ask for help in the given GitHub issue or via <a href="https://gitter.im/apache/camel-quarkus">Camel Quarkus chat</a>.</p> </li> </ol> </div> <div class="paragraph"> <p>Good luck!</p> </div> </div> </div> </article> </main> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../docs/getting-started/">Getting started</a></dd> <dd><a href="../../manual/latest/faq.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> <dd><a href="../../community/camel-extra/">Camel extra</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2019 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/site-f4f4dbc142.js"></script> <script async src="../../_/js/vendor/highlight-54157f17f1.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
} </script> <script type="application/ld+json"> { 
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Apache Camel extensions for Quarkus",
        "item": "https://camel.apache.org/camel-quarkus/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "Contributor guide","item": "https://camel.apache.org/camel-quarkus/latest/contributor-guide.html"}
        ]
    } </script> </body> </html> 