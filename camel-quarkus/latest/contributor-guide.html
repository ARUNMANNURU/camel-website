<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Contributor guide - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/camel-quarkus/latest/contributor-guide.html"> <meta name="generator" content="Antora 2.3.0-beta.2"> <link rel="stylesheet" href="../../_/css/site-8b10291602.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item navbar-topics" href="../../blog/">Blog</a> <a class="navbar-item navbar-topics" href="../../projects/">Projects</a> <a class="navbar-item navbar-topics" href="../../docs/">Documentation</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link navbar-topics" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="../../manual/latest/contributing.html">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> </div> </div> <a class="navbar-item navbar-topics" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link navbar-topics" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-fill"></div> <div class="navbar-search results-hidden"> <input id="search" class="search" placeholder="Search" autocomplete="off"> <img src="/_/img/cancel.svg" alt="Clear" id="search-cancel"> <div id="search_results"></div> </div> <div id="social-media" class="navbar-tools"> <a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <div class="nav-container" data-component="camel-quarkus" data-version="latest"> <aside class="nav"> <div class="panels"> <div class="nav-panel-menu is-active" data-panel="menu"> <nav class="nav-menu"> <h3 class="title"><a href="index.html">Apache Camel extensions for Quarkus</a></h3> <ul class="nav-list"> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="user-guide.html">User guide</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="first-steps.html">First steps</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="cdi.html">CDI</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="native-mode.html">Native mode</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="examples.html">Examples</a> </li> </ul> </li> <li class="nav-item is-current-page" data-depth="1"> <a class="nav-link" href="contributor-guide.html">Contributor guide</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="promote-jvm-only-extensions.html">Promote a JVM Only extension to native</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="list-of-camel-quarkus-extensions.html">List of Camel Quarkus extensions</a> </li> </ul> </li> </ul> </nav> </div> <div class="nav-panel-explore" data-panel="explore"> <div class="context"> <span class="title">Apache Camel extensions for Quarkus</span> <span class="version">latest</span> </div> <ul class="components"> <li class="component is-current"> <span class="title">Apache Camel extensions for Quarkus</span> <ul class="versions"> <li class="version is-current is-latest"> <a href="index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel K</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel Kafka Connector</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-kafka-connector/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel Karaf</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-karaf/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Camel Spring Boot Starters</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-spring-boot/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Component reference</span> <ul class="versions"> <li class="version is-latest"> <a href="../../components/latest/index.html">latest</a> </li> <li class="version"> <a href="../../components/3.2.x/index.html">3.2.x</a> </li> <li class="version"> <a href="../../components/2.x/index.html">2.x</a> </li> </ul> </li> <li class="component"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-latest"> <a href="../../manual/latest/index.html">latest</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main role="main"> <div class="toolbar" role="navigation"> <button class="nav-toggle"></button> <a href="../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">Apache Camel extensions for Quarkus</a></li> <li><a href="contributor-guide.html">Contributor guide</a></li> </ul> </nav> <div> <label id="toggle-width-label" for="toggle-width">Wide / Narrow</label> </div> <div class="edit-this-page"><a href="https://github.com/apache/camel-quarkus/edit/master/docs/modules/ROOT/pages/contributor-guide.adoc">Edit this Page</a></div> </div> <input type="checkbox" id="toggle-width"> <article class="doc"> <h1 class="page">Contributor guide</h1> <div class="sect1"> <h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2> <div class="sectionbody"> <div class="ulist"> <ul> <li> <p><code>git</code></p> </li> <li> <p>GraalVM with <code>native-image</code> command installed and <code>GRAALVM_HOME</code> environment variable set, see <a href="https://quarkus.io/guides/building-native-image-guide">Building a native executable</a> section of the Quarkus documentation.</p> </li> <li> <p>If your are on Linux, <code>docker</code> is sufficient for the native mode too. Use <code>-Pnative,docker</code> instead of <code>-Pnative</code> if you choose this option.</p> </li> <li> <p>Java 8</p> </li> <li> <p>Maven 3.6.2+ (unless you use the Maven Wrapper, a.k.a. <code>mvnw</code> available in the source tree).</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="how-to-build"><a class="anchor" href="#how-to-build"></a>How to build</h2> <div class="sectionbody"> <div class="paragraph"> <p>Checkout the code</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ git clone https://github.com/apache/camel-quarkus.git
$ cd camel-quarkus</code></pre> </div> </div> <div class="paragraph"> <p>A fast build without tests:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ mvn clean install -DskipTests</code></pre> </div> </div> <div class="paragraph"> <p>A build with integration tests in the JVM mode only:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ mvn clean install</code></pre> </div> </div> <div class="paragraph"> <p>A build with integration tests in both the JVM mode and the native mode:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ mvn clean install -Pnative</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="create-a-new-extension"><a class="anchor" href="#create-a-new-extension"></a>Create a new extension</h2> <div class="sectionbody"> <div class="olist arabic"> <ol class="arabic"> <li> <p>You should know <a href="#how-to-build">how to build</a>.</p> </li> <li> <p>Go through the <a href="https://quarkus.io/guides/extension-authors-guide">Quarkus extension author&#8217;s guide</a> to get an idea what is expecting you.</p> </li> <li> <p>Make sure that nobody else works on the same extension already by searching through the <a href="https://github.com/apache/camel-quarkus/issues">GitHub issues</a>.</p> </li> <li> <p>Let others know that you work on the given extension by either creating a <a href="https://github.com/apache/camel-quarkus/issues/new">new issue</a> or asking to assign an existing one to you.</p> </li> <li> <p>Scaffold the necessary Maven modules using <code>quarkus-maven-plugin</code>. As an example let&#8217;s add a new extension for supporting an imaginary Camel component <code>foo-abc</code>:</p> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ cd camel-quarkus
$ mvn cq:create -N -Dcq.artifactIdBase=foo-abc</code></pre> </div> </div> <div class="paragraph"> <p>where:</p> </div> <div class="ulist"> <ul> <li> <p><code>foo-abc</code> is the unique part of the new extension&#8217;s <code>artifactId</code> without the <code>camel-quarkus-</code> prefix</p> <div class="paragraph"> <p>The above sequence of commands does the following:</p> </div> </li> <li> <p>It creates three new Maven modules under the <code>extensions</code> directory: <code>camel-quarkus-foo-abc-parent</code>, <code>camel-quarkus-foo-abc</code> (a.k.a. the runtime module) and <code>camel-quarkus-foo-abc-deployment</code>.</p> </li> <li> <p>These three modules are linked where necessary:</p> <div class="ulist"> <ul> <li> <p><code>camel-quarkus-foo-abc-parent</code> is added to the <code>&lt;modules&gt;</code> of <code>camel-quarkus-extensions</code></p> </li> <li> <p><code>camel-quarkus-foo-abc</code> is added to the <code>&lt;dependencyManagement&gt;</code> of the runtime BOM (Bill of Materials) <code>poms/bom/pom.xml</code></p> </li> <li> <p><code>camel-quarkus-foo-abc-deployment</code> is added to the <code>&lt;dependencyManagement&gt;</code> of the deployment BOM (Bill of Materials) <code>poms/bom-deployment/pom.xml</code></p> </li> </ul> </div> </li> <li> <p>It creates a basic <code>FooAbcProcessor</code> class in the deployment module.</p> </li> <li> <p>It also creates a stub of an integration test module under <code>integration-tests/foo-abc</code>.</p> <div class="paragraph"> <p>A compilation performed immediately after generating the modules should pass flawlessly but running the tests will fail because the test project needs to get finished. You need to build <code>poms/bom</code> and <code>poms/bom-deployment</code> one time first.</p> </div> </li> </ul> </div> </li> <li> <p>Review the generated <code>extensions/foo-abc/runtime/src/main/resources/META-INF/quarkus-extension.yaml</code> file. If you see improper description or keyword, <a href="https://issues.apache.org/jira/secure/CreateIssue!default.jspa">file a new Camel issue</a> and ask to fix the metadata for the given Camel component.</p> </li> <li> <p>Review the dependencies in the generate runtime and deployment modules. In case the given library is supported by Quarkus, you may want to add a dependency on the corresponding Quarkus extension.</p> </li> <li> <p>Complete the integration test module under <code>integration-tests/foo-abc</code>. Make sure you test both the consumer and the producer of the component (if the component supports both). Make sure the tests are passing both in the JVM mode (<code>mvn test</code>) and in the native mode (<code>mvn verify -Pnative</code>).</p> </li> <li> <p>In case of problems, consult the <a href="https://quarkus.io/guides/extension-authors-guide">Quarkus extension author&#8217;s guide</a>, ask for help in the given GitHub issue or via <a href="https://gitter.im/apache/camel-quarkus">Camel Quarkus chat</a>.</p> </li> <li> <p>If the usage of your new extension differs from the usage of the given Camel component, please add an AsciiDoc page under <code>docs/modules/ROOT/pages/extensions</code> and document the differences and Quarkus specific configuration options there. For our imaginary Camel component <code>foo-abc</code> the path of the page would be <code>docs/modules/ROOT/pages/extensions/foo-abc.adoc</code>. After completing the page, run <code>mvn clean install -DskipTests</code> from the root of the source tree to add your extension to the autogenerated list of extensions.</p> </li> <li> <p>Before sending a pull request, please make sure you have run the following Maven command from the project root folder:</p> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">$ mvn process-resources -Pformat</code></pre> </div> </div> <div class="paragraph"> <p>The above command will perform the following tasks:</p> </div> <div class="ulist"> <ul> <li> <p>Add license headers to the new files</p> </li> <li> <p>Re-generate the list of extensions and the Camel Quarkus Catalog</p> </li> <li> <p>Sort elements in various POM files properly</p> <div class="paragraph"> <p>Review the result visually.</p> </div> </li> </ul> </div> </li> <li> <p>Please squash your commits before sending a pull request.</p> </li> </ol> </div> <div class="paragraph"> <p>Good luck!</p> </div> </div> </div> </article> </main> </div> <div class="footer-tools"> <a href="#top" title="Reach the top of the page">Back to top</a> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../manual/latest/getting-started.html">Getting started</a></dd> <dd><a href="../../manual/latest/faq/index.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="https://www.apache.org/foundation/policies/conduct">Code of conduct</a> </dd><dd><a href="../../community/support/">Support</a></dd> <dd><a href="../../manual/latest/contributing.html">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2020 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/vendor/algoliasearch-ec19f37111.js"></script> <script src="../../_/js/site-50cbbf152a.js"></script> <script async src="../../_/js/vendor/highlight-54157f17f1.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
} </script> <script type="application/ld+json"> { 
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Apache Camel extensions for Quarkus",
        "item": "https://camel.apache.org/camel-quarkus/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "Contributor guide","item": "https://camel.apache.org/camel-quarkus/latest/contributor-guide.html"}
        ]
    } </script> </body> </html> 