<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Azure Storage Blob Service Component - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/components/latest/azure-blob-component.html"> <meta name="generator" content="Antora 2.1.0"> <link rel="stylesheet" href="../../_/css/site-1c739ae396.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."><span>Apache Camel</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item" href="../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Projects</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../projects/camel-k/">Camel K</a> <a class="navbar-item" href="../../projects/camel-quarkus/">Camel Quarkus</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../docs/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../components/latest/">Component reference</a> <a class="navbar-item" href="../../camel-k/latest/">Camel K</a> <a class="navbar-item" href="../../camel-quarkus/latest/">Camel Quarkus</a> <a class="navbar-item" href="../../manual/latest/enterprise-integration-patterns.html">Enterprise Integration Patterns</a> <a class="navbar-item" href="../../manual/latest/camel-3-migration-guide.html">Camel 3 Migration Guide</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> </div> </div> <a class="navbar-item" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-tools"> <a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <div class="nav-container" data-component="components" data-version="latest"> <aside class="nav"> <div class="panels"> <div class="nav-panel-explore is-active" data-panel="explore"> <div class="context"> <span class="title">Component reference</span> <span class="version">latest</span> </div> <ul class="components"> <li class="component"> <span class="title">Apache Camel extensions for Quarkus</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-quarkus/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel K</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component is-current"> <span class="title">Component reference</span> <ul class="versions"> <li class="version is-current is-latest"> <a href="index.html">latest</a> </li> <li class="version"> <a href="../2.x/index.html">2.x</a> </li> </ul> </li> <li class="component"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-latest"> <a href="../../manual/latest/index.html">latest</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main role="main"> <div class="toolbar" role="navigation"> <button class="nav-toggle"></button> <a href="../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">Component reference</a></li> <li><a href="azure-blob-component.html">Azure Storage Blob Service Component</a></li> </ul> </nav> <div class="page-versions"> <button class="version-menu-toggle" title="Show other versions of page" type="button">latest</button> <div class="version-menu"> <a class="version is-current" href="azure-blob-component.html">latest</a> <a class="version" href="../2.x/azure-blob-component.html">2.x</a> </div> </div> <div class="edit-this-page"><a href="https://github.com/apache/camel/edit/master/components/camel-azure/src/main/docs/azure-blob-component.adoc">Edit this Page</a></div> </div> <article class="doc"> <h1 class="page">Azure Storage Blob Service Component</h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel version 2.19</strong></p> </div> <div class="paragraph"> <p>The Azure Blob component supports storing and retrieving the blobs to/from <a href="https://azure.microsoft.com/services/storage/blobs/">Azure Storage Blob</a> service.</p> </div> <div class="paragraph"> <p>Prerequisites</p> </div> <div class="paragraph"> <p>You must have a valid Windows Azure Storage account. More information is available at <a href="https://docs.microsoft.com/azure/">Azure Documentation Portal</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="_uri_format"><a class="anchor" href="#_uri_format"></a>URI Format</h2> <div class="sectionbody"> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">azure-blob://accountName/containerName[/blobName][?options]</code></pre> </div> </div> <div class="paragraph"> <p>In most cases a blobName is required and the blob will be created if it does not already exist.<br> You can append query options to the URI in the following format, ?options=value&amp;option2=value&amp;&#8230;&#8203;</p> </div> <div class="paragraph"> <p>For example in order to download a blob content from the public block blob <code>blockBlob</code> located on the <code>container1</code> in the <code>camelazure</code> storage account, use the following snippet:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("azure-blob:/camelazure/container1/blockBlob").
to("file://blobdirectory");</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_uri_options"><a class="anchor" href="#_uri_options"></a>URI Options</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Azure Storage Blob Service component supports 2 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>configuration</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The Blob Service configuration</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">BlobServiceConfiguration</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basicPropertyBinding</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The Azure Storage Blob Service endpoint is configured using URI syntax:</p> </div> <div class="listingblock"> <div class="content"> <pre>azure-blob:containerOrBlobUri</pre> </div> </div> <div class="paragraph"> <p>with the following path and query parameters:</p> </div> <div class="sect2"> <h3 id="_path_parameters_1_parameters"><a class="anchor" href="#_path_parameters_1_parameters"></a>Path Parameters (1 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>containerOrBlobUri</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required</strong> Container or Blob compact Uri</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_query_parameters_21_parameters"><a class="anchor" href="#_query_parameters_21_parameters"></a>Query Parameters (21 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>azureBlobClient</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The blob service client</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">CloudBlob</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>blobOffset</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the blob offset for the upload or download operations, default is 0</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>blobType</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set a blob type, 'blockblob' is default</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">blockblob</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">BlobType</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>closeStreamAfterRead</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Close the stream after read or keep it open, default is true</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>credentials</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the storage credentials, required in most cases</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">StorageCredentials</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>dataLength</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the data length for the download or page blob upload operations</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>fileDir</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the file directory where the downloaded blobs will be saved to</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>publicForRead</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Storage resources can be public for reading their content, if this property is enabled then the credentials do not have to be set</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>streamReadSize</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the minimum read size in bytes when reading the blob content</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bridgeErrorHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exceptionHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this option is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExceptionHandler</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exchangePattern</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the exchange pattern when the consumer creates an exchange.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExchangePattern</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>blobMetadata</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the blob meta-data</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>blobPrefix</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set a prefix which can be used for listing the blobs</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>closeStreamAfterWrite</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Close the stream after write or keep it open, default is true</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lazyStartProducer</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the producer should be started lazy (on the first message). By starting lazy you can use this to allow CamelContext and routes to startup in situations where a producer may otherwise fail during starting and cause the route to fail being started. By deferring this startup to be lazy then the startup failure can be handled during routing messages via Camel&#8217;s routing error handlers. Beware that when the first message is processed then creating and starting the producer may take a little time and prolong the total processing time of the processing.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>operation</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Blob service operation hint to the producer</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">listBlobs</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">BlobServiceOperations</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>streamWriteSize</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the size of the buffer for writing block and page blocks</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>useFlatListing</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Specify if the flat or hierarchical blob listing should be used</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basicPropertyBinding</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the endpoint should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>synchronous</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> </tbody> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_spring_boot_auto_configuration"><a class="anchor" href="#_spring_boot_auto_configuration"></a>Spring Boot Auto-Configuration</h2> <div class="sectionbody"> <div class="paragraph"> <p>When using Spring Boot make sure to use the following Maven dependency to have support for auto configuration:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-azure-starter&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
  &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> <div class="paragraph"> <p>The component supports 20 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.basic-property-binding</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.account-name</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the Azure account name</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.azure-blob-client</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The blob service client</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">CloudBlob</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.blob-metadata</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the blob meta-data</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.blob-name</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Blob name, required for most operations</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.blob-offset</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the blob offset for the upload or download operations, default is 0</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.blob-prefix</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set a prefix which can be used for listing the blobs</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.blob-type</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set a blob type, 'blockblob' is default</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">BlobType</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.close-stream-after-read</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Close the stream after read or keep it open, default is true</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.close-stream-after-write</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Close the stream after write or keep it open, default is true</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.container-name</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the blob service container name</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.credentials</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the storage credentials, required in most cases</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">StorageCredentials</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.data-length</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the data length for the download or page blob upload operations</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.file-dir</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the file directory where the downloaded blobs will be saved to</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.operation</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Blob service operation hint to the producer</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">BlobServiceOperations</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.public-for-read</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Storage resources can be public for reading their content, if this property is enabled then the credentials do not have to be set</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.stream-read-size</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the minimum read size in bytes when reading the blob content</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.stream-write-size</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the size of the buffer for writing block and page blocks</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.configuration.use-flat-listing</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Specify if the flat or hierarchical blob listing should be used</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.azure-blob.enabled</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Enable azure-blob component</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>Required Azure Storage Blob Service component options</p> </div> <div class="paragraph"> <p>You have to provide the containerOrBlob name and the credentials if the private blob needs to be accessed.</p> </div> </div> </div> <div class="sect1"> <h2 id="_usage"><a class="anchor" href="#_usage"></a>Usage</h2> <div class="sectionbody"> <div class="sect2"> <h3 id="_message_headers_set_by_the_azure_storage_blob_service_producer"><a class="anchor" href="#_message_headers_set_by_the_azure_storage_blob_service_producer"></a>Message headers set by the Azure Storage Blob Service producer</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Header</th> <th class="tableblock halign-left valign-top">Type</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelFileName</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The file name for the downloaded blob content.</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_message_headers_set_by_the_azure_storage_blob_service_producer_consumer"><a class="anchor" href="#_message_headers_set_by_the_azure_storage_blob_service_producer_consumer"></a>Message headers set by the Azure Storage Blob Service producer consumer</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Header</th> <th class="tableblock halign-left valign-top">Type</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelFileName</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The file name for the downloaded blob content.</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_azure_blob_service_operations"><a class="anchor" href="#_azure_blob_service_operations"></a>Azure Blob Service operations</h3> <div class="paragraph"> <p><strong>Operations common to all block types</strong></p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Operation</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Get the content of the blob. You can restrict the output of this operation to a blob range.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>deleteBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Delete the blob.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>listBlobs</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">List the blobs.</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p><strong>Block blob operations</strong></p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Operation</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>updateBlockBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Put block blob content that either creates a new block blob or overwrites the existing block blob content.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>uploadBlobBlocks</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Upload block blob content, by first generating a sequence of blob blocks and then committing them to a blob. If you enable the message <strong>CommitBlockListLater</strong> property, you can execute the commit later with the <code>commitBlobBlockList</code> operation. You can later update individual block blobs.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>commitBlobBlockList</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Commit a sequence of blob blocks to the block list that you previously uploaded to the blob service (by using the <code>updateBlockBlob</code> operation with the message <strong>CommitBlockListLater</strong> property enabled).</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBlobBlockList</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Get the block blob list.</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p><strong>Append blob operations</strong></p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Operation</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>createAppendBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Create an append block. By default, if the block already exists then it is not reset. Note that you can alternately create an append blob by enabling the message <strong>AppendBlobCreated</strong> property and using the <code>updateAppendBlob</code> operation.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>updateAppendBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Append the new content to the blob. This operation also creates the blob if it does not already exist and if you enabled a message <strong>AppendBlobCreated</strong> property.</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p><strong>Page Block operations</strong></p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Operation</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>createPageBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Create a page block. By default, if the block already exists then it is not reset. Note that you can also create a page blob (and set its contents) by enabling a message <strong>PageBlobCreated</strong> property and by using the <code>updatePageBlob</code> operation.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>updatePageBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Create a page block (unless you enable a message <strong>PageBlobCreated</strong> property and the identically named block already exists) and set the content of this blob.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>resizePageBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Resize the page blob.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>clearPageBlob</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Clear the page blob.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>getPageBlobRanges</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Get the page blob page ranges.</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_azure_blob_client_configuration"><a class="anchor" href="#_azure_blob_client_configuration"></a>Azure Blob Client configuration</h3> <div class="paragraph"> <p>If your Camel application is running behind a firewall or if you need more control over the Azure Blob Client configuration, you can create your own instance:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">StorageCredentials credentials = new StorageCredentialsAccountAndKey(accountName, accessKey);
CloudBlob client = new CloudBlockBlob(URI.create("https://"
                    + accountName + ".blob.core.windows.net/" + containerName
                    + "/" + fileName), credentials);
registry.bind("azureBlobClient", client);</code></pre> </div> </div> <div class="paragraph"> <p>Then refer to this instance in your Camel <code>azure-blob</code> component configuration:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("azure-blob://" + accountName + "/" + containerName + "/" + fileName + "?azureBlobClient=#client")
.to("mock:result");</code></pre> </div> </div> </div> </div> </div> <div class="sect1"> <h2 id="_dependencies"><a class="anchor" href="#_dependencies"></a>Dependencies</h2> <div class="sectionbody"> <div class="paragraph"> <p>Maven users will need to add the following dependency to their <code>pom.xml</code>.</p> </div> <div class="paragraph"> <p><strong>pom.xml</strong></p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-azure&lt;/artifactId&gt;
    &lt;version&gt;${camel-version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre> </div> </div> <div class="paragraph"> <p>where <code>${camel-version}</code> must be replaced by the actual version of Camel.</p> </div> </div> </div> </article> </main> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../docs/getting-started/">Getting started</a></dd> <dd><a href="../../manual/latest/faq.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2019 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/site-f4f4dbc142.js"></script> <script async src="../../_/js/vendor/highlight-54157f17f1.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
} </script> <script type="application/ld+json"> { 
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Component reference",
        "item": "https://camel.apache.org/components/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "Azure Storage Blob Service Component","item": "https://camel.apache.org/components/latest/azure-blob-component.html"}
        ]
    } </script> </body> </html> 