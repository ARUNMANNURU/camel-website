<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Quartz Component - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/components/latest/quartz-component.html"> <meta name="generator" content="Antora 2.1.0"> <link rel="stylesheet" href="../../_/css/site-1c739ae396.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."><span>Apache Camel</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item" href="../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Projects</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../projects/camel-k/">Camel K</a> <a class="navbar-item" href="../../projects/camel-quarkus/">Camel Quarkus</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../docs/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../components/latest/">Component reference</a> <a class="navbar-item" href="../../camel-k/latest/">Camel K</a> <a class="navbar-item" href="../../camel-quarkus/latest/">Camel Quarkus</a> <a class="navbar-item" href="../../manual/latest/enterprise-integration-patterns.html">Enterprise Integration Patterns</a> <a class="navbar-item" href="../../manual/latest/camel-3-migration-guide.html">Camel 3 Migration Guide</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> </div> </div> <a class="navbar-item" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-tools"> <a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <div class="nav-container" data-component="components" data-version="latest"> <aside class="nav"> <div class="panels"> <div class="nav-panel-explore is-active" data-panel="explore"> <div class="context"> <span class="title">Component reference</span> <span class="version">latest</span> </div> <ul class="components"> <li class="component"> <span class="title">Apache Camel extensions for Quarkus</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-quarkus/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel K</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component is-current"> <span class="title">Component reference</span> <ul class="versions"> <li class="version is-current is-latest"> <a href="index.html">latest</a> </li> <li class="version"> <a href="../2.x/index.html">2.x</a> </li> </ul> </li> <li class="component"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-latest"> <a href="../../manual/latest/index.html">latest</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main role="main"> <div class="toolbar" role="navigation"> <button class="nav-toggle"></button> <a href="../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">Component reference</a></li> <li><a href="quartz-component.html">Quartz Component</a></li> </ul> </nav> <div class="page-versions"> <button class="version-menu-toggle" title="Show other versions of page" type="button">latest</button> <div class="version-menu"> <a class="version is-current" href="quartz-component.html">latest</a> <a class="version" href="../2.x/quartz-component.html">2.x</a> </div> </div> <div class="edit-this-page"><a href="https://github.com/apache/camel/edit/master/components/camel-quartz/src/main/docs/quartz-component.adoc">Edit this Page</a></div> </div> <article class="doc"> <h1 class="page">Quartz Component</h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel version 2.12</strong></p> </div> <div class="paragraph"> <p>The Quartz component provides a scheduled delivery of messages using the <a href="http://www.quartz-scheduler.org/">Quartz Scheduler 2.x</a>. <br> Each endpoint represents a different timer (in Quartz terms, a Trigger and JobDetail).</p> </div> <div class="paragraph"> <p>Maven users will need to add the following dependency to their <code>pom.xml</code> for this component:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-quartz&lt;/artifactId&gt;
    &lt;version&gt;x.x.x&lt;/version&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_uri_format"><a class="anchor" href="#_uri_format"></a>URI format</h2> <div class="sectionbody"> <div class="listingblock"> <div class="content"> <pre>quartz://timerName?options
quartz://groupName/timerName?options
quartz://groupName/timerName?cron=expression
quartz://timerName?cron=expression</pre> </div> </div> <div class="paragraph"> <p>The component uses either a <code>CronTrigger</code> or a <code>SimpleTrigger</code>. If no cron expression is provided, the component uses a simple trigger. If no <code>groupName</code> is provided, the quartz component uses the <code>Camel</code> group name.</p> </div> <div class="paragraph"> <p>You can append query options to the URI in the following format, <code>?option=value&amp;option=value&amp;&#8230;&#8203;</code></p> </div> </div> </div> <div class="sect1"> <h2 id="_options"><a class="anchor" href="#_options"></a>Options</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Quartz component supports 11 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoStartScheduler</strong> (scheduler)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether or not the scheduler should be auto started. This options is default true</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>startDelayedSeconds</strong> (scheduler)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Seconds to wait before starting the quartz scheduler.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>prefixJobNameWith EndpointId</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to prefix the quartz job with the endpoint id. This option is default false.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>enableJmx</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to enable Quartz JMX which allows to manage the Quartz scheduler from JMX. This options is default true</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>properties</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Properties to configure the Quartz scheduler.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Properties</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>propertiesFile</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">File name of the properties to load from the classpath</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>prefixInstanceName</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to prefix the Quartz Scheduler instance name with the CamelContext name. This is enabled by default, to let each CamelContext use its own Quartz scheduler instance by default. You can set this option to false to reuse Quartz scheduler instances between multiple CamelContext&#8217;s.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>interruptJobsOn Shutdown</strong> (scheduler)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to interrupt jobs on shutdown which forces the scheduler to shutdown quicker and attempt to interrupt any running jobs. If this is enabled then any running jobs can fail due to being interrupted.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>schedulerFactory</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the custom SchedulerFactory which is used to create the Scheduler.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">SchedulerFactory</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>scheduler</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the custom configured Quartz scheduler, instead of creating a new Scheduler.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Scheduler</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basicPropertyBinding</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The Quartz endpoint is configured using URI syntax:</p> </div> <div class="listingblock"> <div class="content"> <pre>quartz:groupName/triggerName</pre> </div> </div> <div class="paragraph"> <p>with the following path and query parameters:</p> </div> <div class="sect2"> <h3 id="_path_parameters_2_parameters"><a class="anchor" href="#_path_parameters_2_parameters"></a>Path Parameters (2 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>groupName</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The quartz group name to use. The combination of group name and timer name should be unique.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">Camel</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>triggerName</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required</strong> The quartz timer name to use. The combination of group name and timer name should be unique.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_query_parameters_20_parameters"><a class="anchor" href="#_query_parameters_20_parameters"></a>Query Parameters (20 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bridgeErrorHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cron</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a cron expression to define when to trigger.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>deleteJob</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">If set to true, then the trigger automatically delete when route stop. Else if set to false, it will remain in scheduler. When set to false, it will also mean user may reuse pre-configured trigger with camel Uri. Just ensure the names match. Notice you cannot have both deleteJob and pauseJob set to true.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>durableJob</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether or not the job should remain stored after it is orphaned (no triggers point to it).</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pauseJob</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">If set to true, then the trigger automatically pauses when route stop. Else if set to false, it will remain in scheduler. When set to false, it will also mean user may reuse pre-configured trigger with camel Uri. Just ensure the names match. Notice you cannot have both deleteJob and pauseJob set to true.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>recoverableJob</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Instructs the scheduler whether or not the job should be re-executed if a 'recovery' or 'fail-over' situation is encountered.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>stateful</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Uses a Quartz PersistJobDataAfterExecution and DisallowConcurrentExecution instead of the default job.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exceptionHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this option is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExceptionHandler</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exchangePattern</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the exchange pattern when the consumer creates an exchange.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExchangePattern</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basicPropertyBinding</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the endpoint should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>customCalendar</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a custom calendar to avoid specific range of date</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Calendar</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>jobParameters</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To configure additional options on the job.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>prefixJobNameWithEndpoint Id</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the job name should be prefixed with endpoint id</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>synchronous</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>triggerParameters</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To configure additional options on the trigger.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>usingFixedCamelContextName</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">If it is true, JobDataMap uses the CamelContext name directly to reference the CamelContext, if it is false, JobDataMap uses use the CamelContext management name which could be changed during the deploy time.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>autoStartScheduler</strong> (scheduler)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether or not the scheduler should be auto started.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>fireNow</strong> (scheduler)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">If it is true will fire the trigger when the route is start when using SimpleTrigger.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>startDelayedSeconds</strong> (scheduler)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Seconds to wait before starting the quartz scheduler.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>triggerStartDelay</strong> (scheduler)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">In case of scheduler has already started, we want the trigger start slightly after current time to ensure endpoint is fully started before the job kicks in.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">500</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td> </tr> </tbody> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_spring_boot_auto_configuration"><a class="anchor" href="#_spring_boot_auto_configuration"></a>Spring Boot Auto-Configuration</h2> <div class="sectionbody"> <div class="paragraph"> <p>When using Spring Boot make sure to use the following Maven dependency to have support for auto configuration:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-quartz-starter&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
  &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> <div class="paragraph"> <p>The component supports 12 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.auto-start-scheduler</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether or not the scheduler should be auto started. This options is default true</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.basic-property-binding</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.enable-jmx</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to enable Quartz JMX which allows to manage the Quartz scheduler from JMX. This options is default true</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.enabled</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to enable auto configuration of the quartz component. This is enabled by default.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.interrupt-jobs-on-shutdown</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to interrupt jobs on shutdown which forces the scheduler to shutdown quicker and attempt to interrupt any running jobs. If this is enabled then any running jobs can fail due to being interrupted.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.prefix-instance-name</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to prefix the Quartz Scheduler instance name with the CamelContext name. This is enabled by default, to let each CamelContext use its own Quartz scheduler instance by default. You can set this option to false to reuse Quartz scheduler instances between multiple CamelContext&#8217;s.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.prefix-job-name-with-endpoint-id</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether to prefix the quartz job with the endpoint id. This option is default false.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.properties</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Properties to configure the Quartz scheduler. The option is a java.util.Properties type.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.properties-file</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">File name of the properties to load from the classpath</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.scheduler</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the custom configured Quartz scheduler, instead of creating a new Scheduler. The option is a org.quartz.Scheduler type.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.scheduler-factory</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the custom SchedulerFactory which is used to create the Scheduler. The option is a org.quartz.SchedulerFactory type.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quartz.start-delayed-seconds</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Seconds to wait before starting the quartz scheduler.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>For example, the following routing rule will fire two timer events to the <code>mock:results</code> endpoint:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("quartz://myGroup/myTimerName?trigger.repeatInterval=2&amp;trigger.repeatCount=1").routeId("myRoute")
    .to("mock:result");</code></pre> </div> </div> <div class="paragraph"> <p>When using <code>stateful=true</code>, the <a href="http://quartz-scheduler.org/api/2.0.0/org/quartz/JobDataMap.html">JobDataMap</a> is re-persisted after every execution of the job, thus preserving state for the next execution.</p> </div> <div class="admonitionblock note"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p><strong>Running in OSGi and having multiple bundles with quartz routes</strong></p> </div> <div class="paragraph"> <p>If you run in OSGi such as Apache ServiceMix, or Apache Karaf, and have multiple bundles with Camel routes that start from <a href="#">Quartz</a> endpoints, then make sure if you assign an <code>id</code> to the <code>&lt;camelContext&gt;</code> that this id is unique, as this is required by the <code>QuartzScheduler</code> in the OSGi container. If you do not set any <code>id</code> on <code>&lt;camelContext&gt;</code> then a unique id is auto assigned, and there is no problem.</p> </div> </td> </tr> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_configuring_quartz_properties_file"><a class="anchor" href="#_configuring_quartz_properties_file"></a>Configuring quartz.properties file</h2> <div class="sectionbody"> <div class="paragraph"> <p>By default Quartz will look for a <code>quartz.properties</code> file in the <code>org/quartz</code> directory of the classpath. If you are using WAR deployments this means just drop the quartz.properties in <code>WEB-INF/classes/org/quartz</code>.</p> </div> <div class="paragraph"> <p>However the Camel <a href="#">Quartz</a> component also allows you to configure properties:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Parameter</th> <th class="tableblock halign-left valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>properties</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>null</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>Properties</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">You can configure a <code>java.util.Properties</code> instance.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>propertiesFile</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>null</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">File name of the properties to load from the classpath</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>To do this you can configure this in Spring XML as follows</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="quartz" class="org.apache.camel.component.quartz.QuartzComponent"&gt;
    &lt;property name="propertiesFile" value="com/mycompany/myquartz.properties"/&gt;
&lt;/bean&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_enabling_quartz_scheduler_in_jmx"><a class="anchor" href="#_enabling_quartz_scheduler_in_jmx"></a>Enabling Quartz scheduler in JMX</h2> <div class="sectionbody"> <div class="paragraph"> <p>You need to configure the quartz scheduler properties to enable JMX.<br> That is typically setting the option <code>"org.quartz.scheduler.jmx.export"</code> to a <code>true</code> value in the configuration file.</p> </div> <div class="paragraph"> <p>This option is set to true by default, unless explicitly disabled.</p> </div> </div> </div> <div class="sect1"> <h2 id="_starting_the_quartz_scheduler"><a class="anchor" href="#_starting_the_quartz_scheduler"></a>Starting the Quartz scheduler</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <a href="#">Quartz</a> component offers an option to let the Quartz scheduler be started delayed, or not auto started at all.</p> </div> <div class="paragraph"> <p>This is an example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="quartz" class="org.apache.camel.component.quartz.QuartzComponent"&gt;
    &lt;property name="startDelayedSeconds" value="5"/&gt;
&lt;/bean&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_clustering"><a class="anchor" href="#_clustering"></a>Clustering</h2> <div class="sectionbody"> <div class="paragraph"> <p>If you use Quartz in clustered mode, e.g. the <code>JobStore</code> is clustered. Then the <a href="#">Quartz</a> component will <strong>not</strong> pause/remove triggers when a node is being stopped/shutdown. This allows the trigger to keep running on the other nodes in the cluster.</p> </div> <div class="paragraph"> <p><strong>Note</strong>: When running in clustered node no checking is done to ensure unique job name/group for endpoints.</p> </div> </div> </div> <div class="sect1"> <h2 id="_message_headers"><a class="anchor" href="#_message_headers"></a>Message Headers</h2> <div class="sectionbody"> <div class="paragraph"> <p>Camel adds the getters from the Quartz Execution Context as header values. The following headers are added:<br> <code>calendar</code>, <code>fireTime</code>, <code>jobDetail</code>, <code>jobInstance</code>, <code>jobRuntTime</code>, <code>mergedJobDataMap</code>, <code>nextFireTime</code>, <code>previousFireTime</code>, <code>refireCount</code>, <code>result</code>, <code>scheduledFireTime</code>, <code>scheduler</code>, <code>trigger</code>, <code>triggerName</code>, <code>triggerGroup</code>.</p> </div> <div class="paragraph"> <p>The <code>fireTime</code> header contains the <code>java.util.Date</code> of when the exchange was fired.</p> </div> </div> </div> <div class="sect1"> <h2 id="_using_cron_triggers"><a class="anchor" href="#_using_cron_triggers"></a>Using Cron Triggers</h2> <div class="sectionbody"> <div class="paragraph"> <p>Quartz supports <a href="http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html">Cron-like expressions</a> for specifying timers in a handy format. You can use these expressions in the <code>cron</code> URI parameter; though to preserve valid URI encoding we allow + to be used instead of spaces.</p> </div> <div class="paragraph"> <p>For example, the following will fire a message every five minutes starting at 12pm (noon) to 6pm on weekdays:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("quartz://myGroup/myTimerName?cron=0+0/5+12-18+?+*+MON-FRI")
    .to("activemq:Totally.Rocks");</code></pre> </div> </div> <div class="paragraph"> <p>which is equivalent to using the cron expression</p> </div> <div class="listingblock"> <div class="content"> <pre>0 0/5 12-18 ? * MON-FRI</pre> </div> </div> <div class="paragraph"> <p>The following table shows the URI character encodings we use to preserve valid URI syntax:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">URI Character</th> <th class="tableblock halign-left valign-top">Cron character</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><em>Space</em></p></td> </tr> </tbody> </table></div> </div> </div> <div class="sect1"> <h2 id="_specifying_time_zone"><a class="anchor" href="#_specifying_time_zone"></a>Specifying time zone</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Quartz Scheduler allows you to configure time zone per trigger. For example to use a timezone of your country, then you can do as follows:</p> </div> <div class="listingblock"> <div class="content"> <pre>quartz://groupName/timerName?cron=0+0/5+12-18+?+*+MON-FRI&amp;trigger.timeZone=Europe/Stockholm</pre> </div> </div> <div class="paragraph"> <p>The timeZone value is the values accepted by <code>java.util.TimeZone</code>.</p> </div> </div> </div> <div class="sect1"> <h2 id="_configuring_misfire_instructions"><a class="anchor" href="#_configuring_misfire_instructions"></a>Configuring misfire instructions</h2> <div class="sectionbody"> <div class="paragraph"> <p>The quartz scheduler can be configured with a misfire instruction to handle misfire situations for the trigger. The concrete trigger type that you are using will have defined a set of additional <code>MISFIRE_INSTRUCTION_XXX</code> constants that may be set as this property&#8217;s value.</p> </div> <div class="paragraph"> <p>For example to configure the simple trigger to use misfire instruction 4:</p> </div> <div class="listingblock"> <div class="content"> <pre>quartz://myGroup/myTimerName?trigger.repeatInterval=2000&amp;trigger.misfireInstruction=4</pre> </div> </div> <div class="paragraph"> <p>And likewise you can configure the cron trigger with one of its misfire instructions as well:</p> </div> <div class="listingblock"> <div class="content"> <pre>quartz://myGroup/myTimerName?cron=0/2+*+*+*+*+?trigger.misfireInstruction=2</pre> </div> </div> <div class="paragraph"> <p>The simple and cron triggers has the following misfire instructions representative:</p> </div> <div class="sect2"> <h3 id="_simpletrigger_misfire_instruction_fire_now_1_default"><a class="anchor" href="#_simpletrigger_misfire_instruction_fire_now_1_default"></a>SimpleTrigger.MISFIRE_INSTRUCTION_FIRE_NOW = 1 (default)</h3> <div class="paragraph"> <p>Instructs the Scheduler that upon a mis-fire situation, the SimpleTrigger wants to be fired now by Scheduler.</p> </div> <div class="paragraph"> <p>This instruction should typically only be used for 'one-shot' (non-repeating) Triggers. If it is used on a trigger with a repeat count &gt; 0 then it is equivalent to the instruction MISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_REMAINING_REPEAT_COUNT.</p> </div> </div> <div class="sect2"> <h3 id="_simpletrigger_misfire_instruction_reschedule_now_with_existing_repeat_count_2"><a class="anchor" href="#_simpletrigger_misfire_instruction_reschedule_now_with_existing_repeat_count_2"></a>SimpleTrigger.MISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_EXISTING_REPEAT_COUNT = 2</h3> <div class="paragraph"> <p>Instructs the Scheduler that upon a mis-fire situation, the SimpleTrigger wants to be re-scheduled to 'now' (even if the associated Calendar excludes 'now') with the repeat count left as-is. This does obey the Trigger end-time however, so if 'now' is after the end-time the Trigger will not fire again.</p> </div> <div class="paragraph"> <p>Use of this instruction causes the trigger to 'forget' the start-time and repeat-count that it was originally setup with (this is only an issue if you for some reason wanted to be able to tell what the original values were at some later time).</p> </div> </div> <div class="sect2"> <h3 id="_simpletrigger_misfire_instruction_reschedule_now_with_remaining_repeat_count_3"><a class="anchor" href="#_simpletrigger_misfire_instruction_reschedule_now_with_remaining_repeat_count_3"></a>SimpleTrigger.MISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_REMAINING_REPEAT_COUNT = 3</h3> <div class="paragraph"> <p>Instructs the Scheduler that upon a mis-fire situation, the SimpleTrigger wants to be re-scheduled to 'now' (even if the associated Calendar excludes 'now') with the repeat count set to what it would be, if it had not missed any firings. This does obey the Trigger end-time however, so if 'now' is after the end-time the Trigger will not fire again.</p> </div> <div class="paragraph"> <p>Use of this instruction causes the trigger to 'forget' the start-time and repeat-count that it was originally setup with. Instead, the repeat count on the trigger will be changed to whatever the remaining repeat count is (this is only an issue if you for some reason wanted to be able to tell what the original values were at some later time).</p> </div> <div class="paragraph"> <p>This instruction could cause the Trigger to go to the 'COMPLETE' state after firing 'now', if all the repeat-fire-times where missed.</p> </div> </div> <div class="sect2"> <h3 id="_simpletrigger_misfire_instruction_reschedule_next_with_remaining_count_4"><a class="anchor" href="#_simpletrigger_misfire_instruction_reschedule_next_with_remaining_count_4"></a>SimpleTrigger.MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT = 4</h3> <div class="paragraph"> <p>Instructs the Scheduler that upon a mis-fire situation, the SimpleTrigger wants to be re-scheduled to the next scheduled time after 'now' - taking into account any associated Calendar and with the repeat count set to what it would be, if it had not missed any firings.</p> </div> <div class="admonitionblock warning"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td> <td class="content"> This instruction could cause the Trigger to go directly to the 'COMPLETE' state if all fire-times where missed. </td> </tr> </table></div> </div> </div> <div class="sect2"> <h3 id="_simpletrigger_misfire_instruction_reschedule_next_with_existing_count_5"><a class="anchor" href="#_simpletrigger_misfire_instruction_reschedule_next_with_existing_count_5"></a>SimpleTrigger.MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_EXISTING_COUNT = 5</h3> <div class="paragraph"> <p>Instructs the Scheduler that upon a mis-fire situation, the SimpleTrigger wants to be re-scheduled to the next scheduled time after 'now' - taking into account any associated Calendar, and with the repeat count left unchanged.</p> </div> <div class="admonitionblock warning"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td> <td class="content"> This instruction could cause the Trigger to go directly to the 'COMPLETE' state if the end-time of the trigger has arrived. </td> </tr> </table></div> </div> </div> <div class="sect2"> <h3 id="_crontrigger_misfire_instruction_fire_once_now_1_default"><a class="anchor" href="#_crontrigger_misfire_instruction_fire_once_now_1_default"></a>CronTrigger.MISFIRE_INSTRUCTION_FIRE_ONCE_NOW = 1 (default)</h3> <div class="paragraph"> <p>Instructs the Scheduler that upon a mis-fire situation, the CronTrigger wants to be fired now by Scheduler.</p> </div> </div> <div class="sect2"> <h3 id="_crontrigger_misfire_instruction_do_nothing_2"><a class="anchor" href="#_crontrigger_misfire_instruction_do_nothing_2"></a>CronTrigger.MISFIRE_INSTRUCTION_DO_NOTHING = 2</h3> <div class="paragraph"> <p>Instructs the Scheduler that upon a mis-fire situation, the CronTrigger wants to have it&#8217;s next-fire-time updated to the next time in the schedule after the current time (taking into account any associated Calendar but it does not want to be fired now.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_using_quartzscheduledpollconsumerscheduler"><a class="anchor" href="#_using_quartzscheduledpollconsumerscheduler"></a>Using QuartzScheduledPollConsumerScheduler</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <a href="#">Quartz</a> component provides a Polling Consumer scheduler which allows to use cron based scheduling for <a href="../../manual/latest/polling-consumer.html" class="page">Polling Consumer</a> such as the File and FTP consumers.</p> </div> <div class="paragraph"> <p>For example to use a cron based expression to poll for files every 2nd second, then a Camel route can be define simply as:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    from("file:inbox?scheduler=quartz&amp;scheduler.cron=0/2+*+*+*+*+?")
       .to("bean:process");</code></pre> </div> </div> <div class="paragraph"> <p>Notice we define the <code>scheduler=quartz</code> to instruct Camel to use the <a href="#">Quartz</a> based scheduler. Then we use <code>scheduler.xxx</code> options to configure the scheduler. The <a href="#">Quartz</a> scheduler requires the cron option to be set.</p> </div> <div class="paragraph"> <p>The following options is supported:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Parameter</th> <th class="tableblock halign-left valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>quartzScheduler</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>null</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.quartz.Scheduler</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use a custom Quartz scheduler. If none configure then the shared scheduler from the <a href="#">Quartz</a> component is used.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>cron</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>null</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory</strong>: To define the cron expression for triggering the polls.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>triggerId</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>null</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To specify the trigger id. If none provided then an UUID is generated and used.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>triggerGroup</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>QuartzScheduledPollConsumerScheduler</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To specify the trigger group.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeZone</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>Default</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>TimeZone</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The time zone to use for the CRON trigger.</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p><strong>Important:</strong> Remember configuring these options from the endpoint URIs must be prefixed with <code>scheduler.</code>. For example to configure the trigger id and group:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    from("file:inbox?scheduler=quartz&amp;scheduler.cron=0/2+*+*+*+*+?&amp;scheduler.triggerId=myId&amp;scheduler.triggerGroup=myGroup")
       .to("bean:process");</code></pre> </div> </div> <div class="paragraph"> <p>There is also a CRON scheduler in Spring, so you can use the following as well:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    from("file:inbox?scheduler=spring&amp;scheduler.cron=0/2+*+*+*+*+?")
       .to("bean:process");</code></pre> </div> </div> </div> </div> </article> </main> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../docs/getting-started/">Getting started</a></dd> <dd><a href="../../manual/latest/faq.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2019 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/site-f4f4dbc142.js"></script> <script async src="../../_/js/vendor/highlight-54157f17f1.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
} </script> <script type="application/ld+json"> { 
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Component reference",
        "item": "https://camel.apache.org/components/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "Quartz Component","item": "https://camel.apache.org/components/latest/quartz-component.html"}
        ]
    } </script> </body> </html> 