<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Untitled :: Apache Camel</title><link rel="canonical" href="https://camel.apache.org/manual/latest/backlogdebugger.html"><meta name="generator" content="Antora 2.0.0-rc.1"><link rel="stylesheet" href="../../_/css/site.css"></head><body class="article"><header class="header"><nav class="navbar"><div class="navbar-brand"><a class="navbar-item" href="https://camel.apache.org">Apache Camel</a><button class="navbar-burger" data-target="topbar-nav"><span></span><span></span><span></span></button></div><div id="topbar-nav" class="navbar-menu"><div class="navbar-end"><a class="navbar-item" href="#">Home</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Products</a><div class="navbar-dropdown"><a class="navbar-item" href="#">Product A</a><a class="navbar-item" href="#">Product B</a><a class="navbar-item" href="#">Product C</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Services</a><div class="navbar-dropdown"><a class="navbar-item" href="#">Service A</a><a class="navbar-item" href="#">Service B</a><a class="navbar-item" href="#">Service C</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Resources</a><div class="navbar-dropdown"><a class="navbar-item" href="#">Resource A</a><a class="navbar-item" href="#">Resource B</a><a class="navbar-item" href="#">Resource C</a></div></div><div class="navbar-item"><span class="control"><a class="button is-primary" href="#">Download</a></span></div></div></div></nav></header><div class="main-wrapper"><div class="navigation-container" data-component="manual" data-version="latest"><aside class="navigation"><div class="panels"><div class="navigation-menu is-active" data-panel="menu"><nav class="nav-menu"><h3 class="title"><a href="index.html">User manual</a></h3><ul class="nav-list"><li class="nav-item" data-depth="0"><ul class="nav-list"><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="getting-started.html">Getting started</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="book-getting-started.html">Getting Started with Apache Camel</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="architecture.html">Architecture</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="async.html">Async</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="asynchronous-routing-engine.html">Asynchronous Routing Engine</a></li><li class="nav-item is-current-page" data-depth="2"><a class="nav-link" href="backlogdebugger.html">Backlog debugger</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="bam.html">Business Activity Monitoring</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="batch-consumer.html">Batch Consumer</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="browsable-endpoint.html">BrowsableEndpoint</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="camel-core.html">Core</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="camelcontext.html">Context</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="endpoint.html">Endpoints</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="cep.html">Complex Event Processing</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="component.html">Component</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="debugger.html">Debugger</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="delay-interceptor.html">Delay interceptor</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="dependency-injection.html">Dependency Injection</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="dozer-type-conversion.html">Dozer Type Conversion</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="bean-integration.html">Bean Integration</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="error-handler.html">Error Handler</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="exchange.html">Message Exchange</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="exchange-pattern.html">Exchange Pattern</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="expression.html">Expressions</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="injector.html">Injector</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="intercept.html">Intercept</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="inversion-of-control-with-smart-defaults.html">Inversion Of Control With Smart Defaults</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="lifecycle.html">Camel Lifecycle</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="oncompletion.html">OnCompletion</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="predicate.html">Predicates</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="registry.html">Registry</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="route-builder.html">RouteBuilder</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="routes.html">Routes</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><span class="nav-text">Domain Specific Languages</span><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="dsl.html">Camel Domain Specific Language</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="java-dsl.html">Java DSL</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="spring.html">Spring support</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="groovy-dsl.html">Groovy DSL</a></li><li class="nav-item" data-depth="2"><button class="nav-toggle"></button><span class="nav-text">Scala DSL</span><ul class="nav-list"><li class="nav-item" data-depth="3"><a class="nav-link" href="scala-dsl.html">About the Scala DSL</a></li><li class="nav-item" data-depth="3"><a class="nav-link" href="scala-dsl-getting-started.html">Getting Started</a></li><li class="nav-item" data-depth="3"><a class="nav-link" href="scala-dsl-eip.html">EIP</a></li><li class="nav-item" data-depth="3"><a class="nav-link" href="scala-dsl-supported-languages.html">Supported languages</a></li></ul></li></ul></li><li class="nav-item" data-depth="1"><a class="nav-link" href="using-osgi-blueprint-with-camel.html">Using OSGi blueprint with Camel</a></li></ul></li></ul></nav></div><div class="navigation-explore" data-panel="explore"><div class="context"><span class="title">User manual</span><span class="version">latest</span></div><ul class="components"><li class="component"><span class="title">Apache Camel K</span><ul class="versions"><li class="version is-latest"><a href="../../camel-k/latest/index.html">latest</a></li></ul></li><li class="component"><span class="title">Component reference</span><ul class="versions"><li class="version is-latest"><a href="../../components/latest/index.html">latest</a></li></ul></li><li class="component is-current"><span class="title">User manual</span><ul class="versions"><li class="version is-current is-latest"><a href="index.html">latest</a></li></ul></li></ul></div></div></aside></div><main class="main"><div class="toolbar" role="navigation"><button class="navigation-toggle"></button><a href="index.html" class="home-link"></a><nav class="crumbs" aria-label="breadcrumbs"><ul><li class="crumb"><a href="index.html">User manual</a></li><li class="crumb"><a href="architecture.html">Architecture</a></li><li class="crumb"><a href="backlogdebugger.html">Backlog debugger</a></li></ul></nav></div><article class="doc"><div class="sect2"><h3 id="BacklogDebugger-BacklogDebugger"><a class="anchor" href="#BacklogDebugger-BacklogDebugger"></a>BacklogDebugger</h3><div class="paragraph"><p><strong>Available as of Camel 2.12</strong></p></div><div class="paragraph"><p>Camel supports a backlog debugger that is used for live debugging of message they are routed in Camel. The backlog debugger has additional functionality for easier debugging aimed at tooling, than the Debugger. The backlog debugger is exposed in JMX in the tracer node with the name<code>BacklogDebugger</code>. The JMX API is defined in the<code>org.apache.camel.api.management.mbean.ManagedBacklogDebuggerMBean</code>interface.</p></div><div class="paragraph"><p>You can enable or disable the BacklogDebugger dynamically, by calling<code>enableDebugger</code>or<code>disableDebugger</code>methods.</p></div><div class="sect3"><h4 id="BacklogDebugger-Options"><a class="anchor" href="#BacklogDebugger-Options"></a>Options</h4><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 10%;"><col style="width: 20%;"><col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Option</th><th class="tableblock halign-left valign-top">Default</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Whether the debugger is enabled or not.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>singleStepMode</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Whether currently in single step mode of a single Exchange.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>bodyMaxChars</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>128kb</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To limit the message body to a maximum size in the traced message. Use 0 or negative value to use unlimited size.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>bodyIncludeStreams</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Whether to include the message body of stream based messages. If enabled then beware the stream may not be re-readable later. See more about Stream Caching.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>bodyIncludeFiles</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Whether to include the message body of file based messages. The overhead is that the file content has to be read from the file.</p></td></tr></tbody></table></div><div class="sect3"><h4 id="BacklogDebugger-Operations"><a class="anchor" href="#BacklogDebugger-Operations"></a>Operations</h4><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 10%;"><col style="width: 20%;"><col style="width: 70%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Option</th><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enableDebugger</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To enable the debugger</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>disableDebugger</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To disable the debugger</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>getDebuggerCounter</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>long</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Gets the total number of debugged messages.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>resetDebuggerCounter</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To reset the debugger counter.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>dumpTracedMessagesAsXml(nodeId)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To dump the debugged messages from the give node id in XML format.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>addBreakpoint(nodeId)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To add a breakpoint at the given node.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>addConditionalBreakpoint(nodeId, language, predicate)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To add a conditional breakpoint at the given node. The predicate is created from the language parameter.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>removeBreakpoint(nodeId)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To remove the breakpoint from the given node id.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>resumeBreakpoint(nodeId)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To resume a suspend breakpoint, which will then continue routing the Exchange.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>resumeAll</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To resume all suspended breakpoints.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>getSuspendedBreakpointNodeIds</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Set&lt;String&gt;</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To get a set of all the nodes which has suspended breakpoints (eg an Exchange at the breakpoint which is suspended).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>stepBreakpoint(nodeId)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To start single step mode from a suspended breakpoint at the given node. Then invoke<code>step</code>to step to next node in the route.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>step</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To step to next node when in single step mode.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>getBreakpoints</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Set&lt;String&gt;</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To get a set of all the nodes which has a breakpoint added.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enableBreakpoint(nodeId)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To active a breakpoint which has been temporary disabled.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>disableBreakpoint(nodeId)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To disable a breakpoint temporary.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>setMessageBodyOnBreakpoint(nodeId,body)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To update the message body on the suspended Exchange at the node.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>setMessageHeaderOnBreakpoint(nodeId,headerName,value)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>void</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To update/add the message header on the suspended Exchange at the node.</p></td></tr></tbody></table></div><div class="sect3"><h4 id="BacklogDebugger-Enabling"><a class="anchor" href="#BacklogDebugger-Enabling"></a>Enabling</h4><div class="paragraph"><p>You would need to enable this using the JMX API.</p></div></div><div class="sect3"><h4 id="BacklogDebugger-SeeAlso"><a class="anchor" href="#BacklogDebugger-SeeAlso"></a>See Also</h4><div class="ulist"><ul><li><p>BacklogTracer</p></li><li><p><a href="debugger.adoc">Debugger</a></p></li><li><p><a href="#log-component">Log</a></p></li></ul></div></div></div></article></main></div><footer class="footer"><p>This page was built using the Antora default UI.</p><p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p></footer><script src="../../_/js/site.js"></script><script src="../../_/js/vendor/highlight.js"></script><script>hljs.initHighlighting()</script></body></html>