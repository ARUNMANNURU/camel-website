<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Untitled :: Apache Camel</title><link rel="canonical" href="https://camel.apache.org/manual/latest/data-format.html"><meta name="generator" content="Antora 2.0.0-rc.1"><link rel="stylesheet" href="../../_/css/site.css"></head><body class="article"><header class="header"><nav class="navbar"><div class="navbar-brand"><a class="navbar-item" href="https://camel.apache.org">Apache Camel</a><button class="navbar-burger" data-target="topbar-nav"><span></span><span></span><span></span></button></div><div id="topbar-nav" class="navbar-menu"><div class="navbar-end"><a class="navbar-item" href="#">Home</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Products</a><div class="navbar-dropdown"><a class="navbar-item" href="#">Product A</a><a class="navbar-item" href="#">Product B</a><a class="navbar-item" href="#">Product C</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Services</a><div class="navbar-dropdown"><a class="navbar-item" href="#">Service A</a><a class="navbar-item" href="#">Service B</a><a class="navbar-item" href="#">Service C</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Resources</a><div class="navbar-dropdown"><a class="navbar-item" href="#">Resource A</a><a class="navbar-item" href="#">Resource B</a><a class="navbar-item" href="#">Resource C</a></div></div><div class="navbar-item"><span class="control"><a class="button is-primary" href="#">Download</a></span></div></div></div></nav></header><div class="main-wrapper"><div class="navigation-container" data-component="manual" data-version="latest"><aside class="navigation"><div class="panels"><div class="navigation-menu is-active" data-panel="menu"><nav class="nav-menu"><h3 class="title"><a href="index.html">User manual</a></h3><ul class="nav-list"><li class="nav-item" data-depth="0"><ul class="nav-list"><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="getting-started.html">Getting started</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="book-getting-started.html">Getting Started with Apache Camel</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="architecture.html">Architecture</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="async.html">Async</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="asynchronous-routing-engine.html">Asynchronous Routing Engine</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="backlogdebugger.html">Backlog debugger</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="bam.html">Business Activity Monitoring</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="batch-consumer.html">Batch Consumer</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="browsable-endpoint.html">BrowsableEndpoint</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="camel-core.html">Core</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="camelcontext.html">Context</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="endpoint.html">Endpoints</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="cep.html">Complex Event Processing</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="component.html">Component</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="debugger.html">Debugger</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="delay-interceptor.html">Delay interceptor</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="dependency-injection.html">Dependency Injection</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="dozer-type-conversion.html">Dozer Type Conversion</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="bean-integration.html">Bean Integration</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="error-handler.html">Error Handler</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="exchange.html">Message Exchange</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="exchange-pattern.html">Exchange Pattern</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="expression.html">Expressions</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="injector.html">Injector</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="intercept.html">Intercept</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="inversion-of-control-with-smart-defaults.html">Inversion Of Control With Smart Defaults</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="lifecycle.html">Camel Lifecycle</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="oncompletion.html">OnCompletion</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="predicate.html">Predicates</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="registry.html">Registry</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="route-builder.html">RouteBuilder</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="routes.html">Routes</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><span class="nav-text">Domain Specific Languages</span><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="dsl.html">Camel Domain Specific Language</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="java-dsl.html">Java DSL</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="spring.html">Spring support</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="groovy-dsl.html">Groovy DSL</a></li><li class="nav-item" data-depth="2"><button class="nav-toggle"></button><span class="nav-text">Scala DSL</span><ul class="nav-list"><li class="nav-item" data-depth="3"><a class="nav-link" href="scala-dsl.html">About the Scala DSL</a></li><li class="nav-item" data-depth="3"><a class="nav-link" href="scala-dsl-getting-started.html">Getting Started</a></li><li class="nav-item" data-depth="3"><a class="nav-link" href="scala-dsl-eip.html">EIP</a></li><li class="nav-item" data-depth="3"><a class="nav-link" href="scala-dsl-supported-languages.html">Supported languages</a></li></ul></li></ul></li><li class="nav-item" data-depth="1"><a class="nav-link" href="using-osgi-blueprint-with-camel.html">Using OSGi blueprint with Camel</a></li></ul></li></ul></nav></div><div class="navigation-explore" data-panel="explore"><div class="context"><span class="title">User manual</span><span class="version">latest</span></div><ul class="components"><li class="component"><span class="title">Apache Camel K</span><ul class="versions"><li class="version is-latest"><a href="../../camel-k/latest/index.html">latest</a></li></ul></li><li class="component"><span class="title">Component reference</span><ul class="versions"><li class="version is-latest"><a href="../../components/latest/index.html">latest</a></li></ul></li><li class="component is-current"><span class="title">User manual</span><ul class="versions"><li class="version is-current is-latest"><a href="index.html">latest</a></li></ul></li></ul></div></div></aside></div><main class="main"><div class="toolbar" role="navigation"><button class="navigation-toggle"></button><a href="index.html" class="home-link"></a><nav class="crumbs" aria-label="breadcrumbs"></nav></div><article class="doc"><div class="sect2"><h3 id="DataFormat-DataFormat"><a class="anchor" href="#DataFormat-DataFormat"></a>Data Format</h3><div class="paragraph"><p>Camel supports a pluggable DataFormat to allow messages to be marshalled to and from binary or text formats to support a kind of<a href="#messageTranslator-eip">Message Translator</a>.</p></div><div class="paragraph"><p>The following data formats are currently supported:</p></div><div class="ulist"><ul><li><p>Standard JVM object marshalling</p><div class="ulist"><ul><li><p><a href="#serialization-dataformat">Serialization</a></p></li><li><p><a href="#string-dataformat">String</a></p></li></ul></div></li><li><p>Object marshalling</p><div class="ulist"><ul><li><p><a href="#avro-dataformat">Avro</a></p></li><li><p><a href="#boon-dataformat">Boon</a></p></li><li><p><a href="#hessian-dataformat">Hessian</a></p></li><li><p><a href="json.adoc">JSON</a></p></li><li><p><a href="#protobuf-dataformat">Protobuf</a></p></li><li><p><a href="#yaml-snakeyaml-dataformat">YAML</a></p></li></ul></div></li><li><p>Object/XML marshalling</p><div class="ulist"><ul><li><p><a href="#castor-dataformat">Castor</a></p></li><li><p><a href="#jaxb-dataformat">JAXB</a></p></li><li><p><a href="#xmlBeans-dataformat">XmlBeans</a></p></li><li><p><a href="#xstream-dataformat">XStream</a></p></li><li><p><a href="#jibx-dataformat">JiBX</a></p></li><li><p><a href="#jacksonxml-dataformat">Jackson XML</a></p></li></ul></div></li><li><p>Object/XML/Webservice marshalling</p><div class="ulist"><ul><li><p><a href="#soap-dataformat">SOAP</a></p></li></ul></div></li><li><p>Direct JSON / XML marshalling</p><div class="ulist"><ul><li><p><a href="#xmljson-dataformat">XmlJson</a></p></li></ul></div></li><li><p>Flat data structure marshalling</p><div class="ulist"><ul><li><p><a href="#beanio-dataformat">BeanIO</a></p></li><li><p><a href="#bindy-dataformat">Bindy</a></p></li><li><p><a href="#csv-dataformat">CSV</a></p></li><li><p><a href="#edi-dataformat">EDI</a></p></li><li><p><a href="#flatpack-dataformat">Flatpack DataFormat</a></p></li><li><p>uniVocity DataFormats<a href="#univocity-csv-dataformat">CSV</a>/<a href="#univocity-tsv-dataformat">TSV</a>/<a href="#univocity-fixed-dataformat">Fixed Length</a></p></li></ul></div></li><li><p>Domain specific marshalling</p><div class="ulist"><ul><li><p><a href="#hl7-dataformat">HL7 DataFormat</a></p></li></ul></div></li><li><p>Compression</p><div class="ulist"><ul><li><p><a href="#gzip-dataformat">GZip DataFormat</a></p></li><li><p><a href="#zip-dataformat">Zip DataFormat</a></p></li><li><p><a href="#zipfile-dataformat">Zip File DataFormat</a></p></li><li><p><a href="#lzf-dataformat">LZF Data Format</a></p></li><li><p><a href="#tar-dataformat">Tar DataFormat</a></p></li></ul></div></li><li><p>Security</p><div class="ulist"><ul><li><p><a href="#crypto-component">Crypto</a></p></li><li><p><a href="#crypto-component">PGP</a></p></li><li><p><a href="#secureXML-dataformat">XMLSecurity DataFormat</a></p></li></ul></div></li><li><p>Misc.</p><div class="ulist"><ul><li><p><a href="#base64-dataformat">Base64</a></p></li><li><p><a href="#custom-dataformat">Custom DataFormat</a>&#8201;&#8212;&#8201;to use your own custom implementation</p></li><li><p><a href="#mime-multipart-dataformat">MIME-Multipart</a></p></li><li><p><a href="#rss-dataformat">RSS</a></p></li><li><p><a href="#tidymarkup-dataformat">TidyMarkup</a></p></li><li><p><a href="#syslog-dataformat">Syslog</a></p></li><li><p><a href="#ical-dataformat">ICal</a></p></li><li><p><a href="#barcode-dataformat">Barcode</a>&#8201;&#8212;&#8201;to read and generate barcodes (QR-Code, PDF417, &#8230;&#8203;)</p></li></ul></div></li></ul></div><div class="paragraph"><p>And related is the following:</p></div><div class="ulist"><ul><li><p><a href="#dataformat-component">DataFormat Component</a>for working with Data Formats as if it was a regular<a href="component.adoc">Component</a>supporting<a href="endpoint.adoc">Endpoints</a>and<a href="uris.adoc">URIs</a>.</p></li><li><p><a href="dozer-type-conversion.adoc">Dozer Type Conversion</a>using Dozer for type converting POJOs</p></li></ul></div><div class="sect3"><h4 id="DataFormat-Unmarshalling"><a class="anchor" href="#DataFormat-Unmarshalling"></a>Unmarshalling</h4><div class="paragraph"><p>If you receive a message from one of the Camel<a href="component.adoc">Components</a>such as<a href="#file-component">File</a>,<a href="#http-component">HTTP</a>or<a href="#jms-component">JMS</a>you often want to unmarshal the payload into some bean so that you can process it using some<a href="bean-integration.adoc">Bean Integration</a>or perform<a href="predicate.adoc">Predicate</a>evaluation and so forth. To do this use the<code>unmarshal</code>word in the<a href="dsl.adoc">DSL</a>in Java or the<a href="xml-configuration.adoc">XML Configuration</a>.</p></div><div class="paragraph"><p>For example:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">DataFormat jaxb = new JaxbDataFormat("com.acme.model");

from("activemq:My.Queue").
  unmarshal(jaxb).
  to("mqseries:Another.Queue");</code></pre></div></div><div class="paragraph"><p>The above uses a named DataFormat of<code>jaxb</code>which is configured with a number of Java package names. You can if you prefer use a named reference to a data format which can then be defined in your<a href="registry.adoc">Registry</a>such as via your<a href="spring.adoc">Spring</a>XML file.</p></div><div class="paragraph"><p>You can also use the DSL itself to define the data format as you use it. For example the following uses Java serialization to unmarshal a binary file then send it as an ObjectMessage to<a href="activemq.adoc">ActiveMQ</a></p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("file://foo/bar").
  unmarshal().serialization().
  to("activemq:Some.Queue");</code></pre></div></div></div><div class="sect3"><h4 id="DataFormat-Marshalling"><a class="anchor" href="#DataFormat-Marshalling"></a>Marshalling</h4><div class="paragraph"><p>Marshalling is the opposite of unmarshalling, where a bean is marshalled into some binary or textual format for transmission over some transport via a Camel<a href="component.adoc">Component</a>. Marshalling is used in the same way as unmarshalling above; in the<a href="dsl.adoc">DSL</a>you can use a DataFormat instance, you can configure the DataFormat dynamically using the DSL or you can refer to a named instance of the format in the<a href="registry.adoc">Registry</a>.</p></div><div class="paragraph"><p>The following example unmarshals via serialization then marshals using a named JAXB data format to perform a kind of<a href="#messageTranslator-eip">Message Translator</a>:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("file://foo/bar").
  unmarshal().serialization().
  marshal("jaxb").
  to("activemq:Some.Queue");</code></pre></div></div></div><div class="sect3"><h4 id="DataFormat-UsingSpringXML"><a class="anchor" href="#DataFormat-UsingSpringXML"></a>Using Spring XML</h4><div class="paragraph"><p>This example shows how to configure the data type just once and reuse it on multiple routes:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext id="camel" xmlns="http://camel.apache.org/schema/spring"&gt;
  &lt;dataFormats&gt;
    &lt;jaxb id="myJaxb" prettyPrint="true" contextPath="org.apache.camel.example"/&gt;
  &lt;/dataFormats&gt;

  &lt;route&gt;
    &lt;from uri="direct:start"/&gt;
    &lt;marshal ref="myJaxb"/&gt;
    &lt;to uri="direct:marshalled"/&gt;
  &lt;/route&gt;
  &lt;route&gt;
    &lt;from uri="direct:marshalled"/&gt;
    &lt;unmarshal ref="myJaxb"/&gt;
    &lt;to uri="mock:result"/&gt;
  &lt;/route&gt;

&lt;/camelContext&gt;</code></pre></div></div><div class="paragraph"><p>You can also define reusable data formats as Spring beans:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="myJaxb" class="org.apache.camel.model.dataformat.JaxbDataFormat"&gt;
  &lt;property name="prettyPrint" value="true"/&gt;
  &lt;property name="contextPath" value="org.apache.camel.example"/&gt;
&lt;/bean&gt;</code></pre></div></div></div></div></article></main></div><footer class="footer"><p>This page was built using the Antora default UI.</p><p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p></footer><script src="../../_/js/site.js"></script><script src="../../_/js/vendor/highlight.js"></script><script>hljs.initHighlighting()</script></body></html>