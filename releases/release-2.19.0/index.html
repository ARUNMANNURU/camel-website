<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"><link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"><link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"><link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"><link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"><meta name="application-name" content="Apache Camel"><link rel="manifest" href="../../site.webmanifest"><title>Release 2.19.0 - Apache Camel</title><link rel="canonical" href="../../releases/release-2.19.0/"><link rel="stylesheet" href="../../_/css/site-52b06e54db.css"></head><body class="article"><header class="header"><nav class="navbar"><div class="navbar-brand"><a class="nav-logo" href="../../" title="Apache Camel"><span>Apache Camel</span></a><div id="topbar-nav" class="navbar-menu"><div class="navbar-end"><a class="navbar-item" href="../../news/">News</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Projects</a><div class="navbar-dropdown"><a class="navbar-item" href="../../projects/camel-k/">Camel K</a> <a class="navbar-item" href="../../projects/camel-quarkus/">Camel Quarkus</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Documentation</a><div class="navbar-dropdown"><a class="navbar-item" href="../../docs/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../components/latest/">Component reference</a> <a class="navbar-item" href="../../camel-k/latest/">Camel K</a> <a class="navbar-item" href="../../camel-quarkus/latest/">Camel Quarkus</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">Community</a><div class="navbar-dropdown"><a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> <a class="navbar-item" href="../../community/camel-extra/">Camel extra</a></div></div><a class="navbar-item" href="../../download/">Download</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="#">About</a><div class="navbar-dropdown"><a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a></div></div></div></div><div class="navbar-tools"><a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use href="../../_/img/brand-logos.svg#github"/></svg></a><a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use href="../../_/img/brand-logos.svg#gitter"/></svg></a><a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use href="../../_/img/brand-logos.svg#twitter"/></svg></a></div><button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span><span></span><span></span></button></div></nav></header><h1>Apache Camel 2.19.0 Release</h1><h2>New and Noteworthy</h2><p>Welcome to the 2.19.0 release which resolved over 670 issues including new features, improvements and bug fixes.</p><ul><li>Introduced Camel Connector&rsquo;s which is a simplified version of a Camel component that has been pre-configured for a specific use-case.</li><li>Upgraded to Spring Boot 1.5.x.</li><li>The Camel Maven Plugin now provides the <code>camel:validate</code> goal to parse your Java and XML source code for any Camel routes and report invalid Camel endpoint uri and simple expression errors. You can run this at code time (not runtime). </li><li>Camel <code>Main</code> and Spring Boot and Camel Maven Plugin can now auto terminate the JVM after Camel has been running for maximum duration of seconds, processed messages or been idle for a period.</li><li>Camel source code can build with Java 9 in preparation for official support for Java 9 in a future release</li><li>All the Camel Spring Boot starter components now has more of the components default values included in their metadata which allows tooling to display such information</li><li>Deprecated more components and camel-core APIs that will be dropped in Camel 3.0 or sometime in the future</li><li>Introduced <code>ReloadStrategy</code> as SPI which allows custom providers to implement logic for triggering live reloads of Camel routes.</li><li>The Camel Maven Plugin now allows to live reload route changes from XML files when running Camel. This can also be enabled from the <code>Main</code> class.</li><li>Introduced a new <code>camel-catalog-rest</code> artifact which is a tiny standalone REST API of the CamelCatalog using JAX-RS and Swagger Annotations.</li><li>Added <code>camel-catalog-rest-app</code> as a standalone application which used Apache CXF with Jetty to host the Catalog REST API with embedded Swagger UI</li><li>Returning <code>null</code> from Bean should work similar to how <code>setBody</code> and <code>transform</code> works when they set a <code>null</code> body.</li><li>The Camel Spring Boot starter components now have their auto configuration depends on <code>org.apache.camel.springboot.CamelAutoConfiguration</code> which makes it easier writing unit tests where you can exclude <code>org.apache.camel.springboot.CamelAutoConfiguration</code> to turn off Camel Spring Boot auto configuration completely.</li><li>Camel now supports OWASP dependency check maven plugin</li><li>NATS component now supports TLS and explicit flushing (with timeout) of the connection</li><li>Metrics component now supports Gauge type</li><li>File consumer now supports idempotent-changed and idempotent-rename read lock strategies for clustering. </li><li>Camel Catalog now supports custom runtime providers that only includes the supported Camel components, languages and data formats running in that container. For example for Karaf or Spring Boot in the camel-catalog-provider-karaf and camel-catalog-provider-springboot.</li><li>The bean component will when calling a method that returned an instance of <code>Callable</code> now call that callable to obtain the chained result. This allows to call Groovy functions/closures etc.</li><li>Failover Load Balancer with inheritErrorHandler=false, now allows Error Handler to react after the load balancer is exhausted.</li><li>Salesforce component now supports limits, recent items, approvals and composite API</li><li>Dumping Camel routes as XML now includes custom namespaces which are at xpath expressions etc. Likewise updating Camel routes from XML can now include namespaces which will be associated on xpath expressions.</li><li>Added <code>RouteIdFactory</code> which can auto assign route ids based on the consumer endpoints to use more sensitible names, instead of route1, route2, etc.</li><li>Add <code>skip</code> function to Simple language</li><li>Upgraded to Jetty 9.3 (Jetty 9.2 still supported for Karaf 4.0.x users)</li><li><code>RouteBuilder</code> auto-configuration can now be disabled from Camel CDI configuration</li><li>Camel contexts automatic start can now be disabled from Camel CDI configuration</li><li>Camel CDI now provides support for <code>TransactionErrorHandler</code> and <code>TransactionPolicy</code> via JTA</li><li>Asynchronous support for CXF JAX-RS producers has been added</li><li>The JSonPath language now supports Map and List types and POJOs as well. For POJOs you need to have Jackson on the classpath. </li><li>Data Format which marshal to JSon or XML now set the content-type header to application/json or application/xml appropriately.</li><li>The Kafka component can now store offset state offline (stateRepository) to preserve this information and be able to resume from previous offset.</li><li>The Kafka component has been improved to be easier to configure and use. Notice there is a backwards incompatible change so users need to migrate.</li><li>A topic based idempotent repository that is Kafka based for the Idempotent Consumer EIP</li><li>The Kafka component will automatic type convert the message body to the type specified by the configured serializer (is string by default) when sending to kafka. You can also now configure key and partitionKey in the endpoint uri, instead of having to specify as headers.</li><li>The Kafka consumer will now auto commit on stop to ensure the broker has the latest offset commit. The option <code>autoCommitOnStop</code> can be configured to be sync,async or none.</li><li>Added easy predicate parser to JSonPath to more easily define simple predicates without using the more complex jsonpath notation with all the symbols</li><li>The Box component has been migrated to use the Box v2 Java API as the old v1 API is going to be shutdown from summer 2017</li><li>Examples overview now generate from the source code to ensure its up to date</li><li>Added declarative Transformer and Validator which performs transformation/validation according to the data type information declared on a route by inputType and/or outputType. There&rsquo;re a few examples demonstrates this feature: camel-example-transformer-blueprint, camel-example-transformer-cdi, camel-example-transformer-demo, and camel-example-validator-spring-boot</li><li>Added query support for JPA Producer</li></ul><p>The following issues have been fixed</p><ul><li>Fixed starting Camel on Oracle JDK 1.8.0_19 or lower, which would throw an UnsupportedOperationException</li><li>Fixed running <code>mvn camel:run</code> when using OSGi Blueprint</li><li>Fixed Hystrix EIP to also execute fallback if execution was rejected or short-circuited or other reasons from Hystrix. </li><li>Fixed Hystrix EIP race condition when timeout was hit and fallback is executed could let to Camel Exchange having wrong caused exception.</li><li>Fixed adding new routes to running CamelContext and if the new routes would fail to startup, then before these routes would &ldquo;hang around&rdquo;. Now only succesful started routes are added.</li><li>Adding or removing routes that starts from Undertow no longer restart the entire HTTP server</li><li>VM endpoint should prepare exchange with the CamelContext from the consumer and not from cached endpoint which can be different</li><li>Fixed a bug when using Rest DSL with SERVLET could cause a java.io.IOException: Stream closed exception when using Bean component in the route. </li><li>Fixed an issue when using <code>pipeline</code> in Java DSL not setting up the EIP correctly which could lead to runtime route not as intended.</li><li>Fixed Dropbox to use Stream caching to avoid reading entire file into memory so Camel can process big files</li><li>Fixed <code>toD</code> issue with splitting uris when RAW values had + sign</li><li>Fixed adviceWith may behave differently when using multiple advices in the same order and you would advice on the same nodes.</li><li>Fixed camel-zipkin to be able to startup and work with Camel XML </li><li>Fixed FTP2 readLock=changed not working (when fastFileExists=false) if no sub folder was specified as starting directory.</li><li>Fixed Simple language when using indexing with a nested function</li><li>Fixed issue with <code>@Consume</code> not having <code>CamelContext</code> injected and its lifecycle managed by <code>CamelContext</code></li><li>Fixed Netty double buffer release leak in Netty4 and Netty4 HTTP</li></ul><p>API breaking</p><ul><li>The groovy DSL from camel-groovy has been moved into its own camel-groovy-dsl module. The camel-groovy now only contains the Camel Language</li><li>Camel-spring-LDAP now uses <code>java.util.function.BiFunction&lt;L, Q, S&gt;</code> instead of <code>org.apache.camel.component.springldap.LdapOperationsFunction&lt;Q, S&gt;</code></li><li>The deprecated APIs from camel-spring-boot has been removed as part of upgrading and supporting Spring Boot 1.5.x</li><li>The <code>getComponentDocumentation</code> method on <code>CamelContext</code> is deprecated and returns null. The embedded HTML documentation in all the Camel components has been removed as they are not in use/maintained, and the JSon schema is the actual information. Use the camel-catalog for component documentation where you can get all the documentation in both ascii doc and html format.</li><li>camel-mongodb-gridf schema has been renamed from *gridfs* to *mongodb-gridfs* to avoid confusion.</li><li>The commands-core has the Catalog commands removed</li><li>The org.apache.camel.spring.boot.FatJarRouter has been removed, just use regular <code>RouteBuilder</code> classes in Spring Boot applications.</li><li>The Kafka endpoint option <code>seekToBeginning=true</code> should be migrated to <code>seekTo=beginning</code></li><li>The Kafka endpoint option bridgeEndpoint has moved from endpoint to the KafkaConfiguration class so all options are together.</li><li>The Kafka component has been improved to be easier to configure and use. Notice there is a backwards incompatible change so users need to migrate. The kafka uri is changed from kafka:brokers to kafka:topic. So you need to specify the topic name in the context-path and the brokers as parameters, eg before <code>kafka:myserver?topic=sometopic</code> is now <code>kafka:sometopic?brokers=myserver</code></li><li>The Infinispan uri syntax has changed from infinispan:hostName?options to infinispan:cacheName?options</li></ul><p>Important changes to consider when upgrading</p><ul><li>camel-spring-dm has been disabled from the karaf features file so users cannot install it out of the box as it does not work properly. camel-spring-dm has been deprecated for a long time and users are encouraged to use osgi blueprint instead. The JAR is still shipped and can be installed manually but then you are on your own. The JAR will be removed completed in a future release.</li><li>Groovy DSL and Scala DSL is deprecated and planned to be moved to Camel Extra and not distributed out of the box in the future.</li><li>Camel now uses Karaf 4.x API and therefore not possible to run on older Karaf versions.</li><li><code>camel-blueprint</code> changed startup behavior to start on Blueprint.CREATED event which would be more <code>correct</code> way of startup instead of Blueprint.REGISTERED as before.</li><li>camel-spring-boot now don&rsquo;t include prototype scoped beans when auto scanning for RouteBuilder instances, which is how camel-spring works. You can turn this back using the includeNonSingletons option.</li><li>camel-spring-javaconfig removed from Karaf features as it was not really supported in OSGi/Karaf.</li><li>camel spring-boot shell commands have been removed as spring-boot shell has been deprecated in spring-boot.</li><li>camel-mongodb-gridf schema has been renamed from gridfs to mongodb-gridfs to avoid confusion.</li><li>camel-box has been migrated to use box v2 api so there may be some migration needed as the old camel-box component was using box v1 api</li><li>The JSon schema from camel-catalog have changed to use boolean, integer and numeric values when applicable instead of using string values for everything. </li><li>The camel-catalog Karaf commands has been removed</li></ul><h2>API breaking</h2><h2>Known issues</h2><h2>Getting the Binaries using Maven</h2><h3>Binary Distributions</h3><table class="tableblock frame-all grid-all stretch"><thead><tr><td>Description</td><td>Download Link</td><td>PGP Signature file of download</td></tr></thead><tbody><tr><td>Windows Distribution</td><td><a href="http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.19.0/apache-camel-2.19.0.zip">apache-camel-2.19.0.zip</a></td><td><a href="http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.19.0/apache-camel-2.19.0.zip.asc">apache-camel-2.19.0.zip.asc</a></td></tr><tr><td>Unix/Linux/Cygwin Distribution</td><td><a href="http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.19.0/apache-camel-2.19.0.tar.gz">apache-camel-2.19.0.tar.gz</a></td><td><a href="http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.19.0/apache-camel-2.19.0.tar.gz.asc">apache-camel-2.19.0.tar.gz.asc</a></td></tr></tbody></table><h4>Source Distributions</h4><table class="tableblock frame-all grid-all stretch"><thead><tr><td>Description</td><td>Download Link</td><td>PGP Signature file of download</td></tr></thead><tbody><tr><td>Source (zip)</td><td><a href="http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.19.0/apache-camel-2.19.0-src.zip">apache-camel-2.19.0-src.zip</a></td><td><a href="http://www.apache.org/dyn/closer.cgi/camel/apache-camel/2.19.0/apache-camel-2.19.0-src.zip.asc">apache-camel-2.19.0-src.zip.asc</a></td></tr></tbody></table><h3>Git tag checkout</h3><pre>
  git clone https://git-wip-us.apache.org/repos/asf/camel.git
  cd camel
  git checkout camel-2.19.0
</pre><h5>Getting the Binaries using Maven</h5>To use this release in your maven project, the proper dependency configuration that you should use in your Maven POM is:<pre><code>
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-core&lt;/artifactId&gt;
  &lt;version&gt;2.19.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h3>Changelog</h3>For a more detailed view of new features and bug fixes, see the:<br><a href="https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12311211&version=12337871">Release notes for 2.19.0</a><footer><div class="footer"><figure class="logo"><img class="logo" src="../../_/img/logo-d.svg" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"></figure><dl><dt>Overview</dt><dd><a href="../../news/">News</a></dd><dd><a href="../../components/latest/">Components</a></dd><dd><a href="../../download/">Download</a></dd><dd><a href="../../docs/getting-started/">Getting started</a></dd><dd><a href="../../manual/latest/faq.html">FAQ</a></dd></dl><dl><dt>Community</dt><dd><a href="../../community/support/">Support</a></dd><dd><a href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a></dd><dd><a href="../../community/user-stories/">User stories</a></dd><dd><a href="../../community/articles/">Articles</a></dd><dd><a href="../../community/books/">Books</a></dd><dd><a href="../../community/team/">Team</a></dd><dd><a href="../../community/camel-extra/">Camel extra</a></dd></dl><dl><dt>About</dt><dd><a href="../../acknowledgments/">Acknowledgments</a></dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd><dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd><dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd><dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd><dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd></dl><p>&copy; 2004-2019 The <a href="https://apache.org">Apache Software Foundation</a>.<br>Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners.</p></div></footer><script src="../../_/js/site-ae13c69512.js"></script><script src="../../_/js/vendor/highlight-0f2623cb32.js"></script><script src="../../_/js/vendor/svg4everybody-5abcb676ea.js"></script><script type="application/ld+json">{"@context":"http://schema.org","@type":"Organization","name":"Apache Camel","url":"https:\/\/camel.apache.org\/","sameAs":["https://twitter.com/cameltweet"],"logo":"https:\/\/camel.apache.org\/_/img/logo-d.svg","description":"Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://camel.apache.org/","name":"Apache Camel"}},{"@type":"ListItem","position":2,"item":{"@id":"https://camel.apache.org/releases/","name":"releases"}},{"@type":"ListItem","position":3,"item":{"@id":"https://camel.apache.org/releases/release-2.19.0/","name":"release-2.19.0"}}]}</script></body></html>htmlEscape